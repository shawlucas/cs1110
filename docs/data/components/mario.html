<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.5" />
<title>data.components.mario API documentation</title>
<meta name="description" content="" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>data.components.mario</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import pygame
from .. import setup, tools
from .. import gGameSettings
from . import powerups


class Mario(pygame.sprite.Sprite):
    &#34;&#34;&#34;
    This is a class to create an instance of the PLAYER, or MARIO.
    &#34;&#34;&#34;
    def __init__(self):

        &#34;&#34;&#34;
        The constructor for the Mario class.

        Sets the sprite sheet to &#39;mario_bros&#39;, which is in the resource folder. This sprite sheet contains all animation frames for Mario.
        &#34;&#34;&#34;
        pygame.sprite.Sprite.__init__(self)
        self.spr_sheet = setup.GFX[&#39;mario_bros&#39;]

        self.timerSetup()
        self.setup_state_booleans()
        self.setup_forces()
        self.counterSetup()
        self.Gfx_LoadSpriteSheet()

        self.state = gGameSettings.MARIO_STATE_WALK
        self.image = self.right_frames[self.frame_index]
        self.rect = self.image.get_rect()
        self.mask = pygame.mask.from_surface(self.image)

        self.key_timer = 0


    def timerSetup(self):
        &#34;&#34;&#34;
        This function sets all global timers to 0.
        &#34;&#34;&#34;
        self.walking_timer = 0
        self.invincible_animation_timer = 0
        self.invincible_start_timer = 0
        self.fire_transition_timer = 0
        self.death_timer = 0
        self.transition_timer = 0
        self.last_fireball_time = 0
        self.hurt_invisible_timer = 0
        self.hurt_invisible_timer2 = 0
        self.flag_pole_timer = 0


    def setup_state_booleans(self):
        &#34;&#34;&#34;
        This function sets all boolean values that Mario will have when he is spawned into the game.
        &#34;&#34;&#34;
        self.facing_right = True # Mario is facing right at the start of the level
        self.allow_jump = True # He is allowed to jump
        self.dead = False # He is not dead
        self.invincible = False # He is not invincible
        self.big = False # He is small mario, as he has not gotten the magic mushroom yet.
        self.fire = False #He is not fire mario, as he has not gotten the fire flower yet.
        self.allow_fireball = True
        self.in_transition_state = False # He is not transitioning states
        self.hurt_invincible = False # He is not hurt
        self.in_castle = False # He is not in the castle
        self.crouching = False # He is not crouching
        self.losing_invincibility = False # He is not invinicble, so he cannot be in a state in which his invincibility is wearing off

    def setup_forces(self):
        &#34;&#34;&#34;
        This function sets all forces that will be acting on Mario when he is spawned into the game. 
        &#34;&#34;&#34;
        self.x_vel = 0
        self.y_vel = 0
        self.max_x_vel = gGameSettings.MARIO_MAX_WALK_SPEED
        self.max_y_vel = gGameSettings.MARIO_MAX_Y_VELOCITY
        self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION
        self.jump_vel = gGameSettings.MARIO_JUMP_VELOCITY
        self.gravity = gGameSettings.WORLD_GRAVITY


    def counterSetup(self):
        &#34;&#34;&#34;
        This function sets all of Mario&#39;s internal counters to zero, clearing any previous values that they may have had.
        &#34;&#34;&#34;
        self.frame_index = 0
        self.invincible_index = 0
        self.fire_transition_index = 0
        self.fireball_count = 0
        self.flag_pole_right = 0


    def Gfx_LoadSpriteSheet(self):

        &#34;&#34;&#34;
        This function loads sprite images needed for Mario&#39;s animation. It uses arrays for each set of animations, and uses the
        getImage function with parameters (x, y, width, height) to access coordinates of the sprite sheet to use as an animation frame.
        &#34;&#34;&#34;
        self.right_frames = []
        self.left_frames = []

        self.right_small_normal_frames = []
        self.left_small_normal_frames = []
        self.right_small_green_frames = []
        self.left_small_green_frames = []
        self.right_small_COLOR_RGB_RED_frames = []
        self.left_small_COLOR_RGB_RED_frames = []
        self.right_small_black_frames = []
        self.left_small_black_frames = []

        self.right_big_normal_frames = []
        self.left_big_normal_frames = []
        self.right_big_green_frames = []
        self.left_big_green_frames = []
        self.right_big_COLOR_RGB_RED_frames = []
        self.left_big_COLOR_RGB_RED_frames = []
        self.right_big_black_frames = []
        self.left_big_black_frames = []

        self.right_fire_frames = []
        self.left_fire_frames = []


        # Images for normal small mario #

        self.right_small_normal_frames.append(
            self.getImage(178, 32, 12, 16))  # Right [0]
        self.right_small_normal_frames.append(
            self.getImage(80,  32, 15, 16))  # Right walking 1 [1]
        self.right_small_normal_frames.append(
            self.getImage(96,  32, 16, 16))  # Right walking 2 [2]
        self.right_small_normal_frames.append(
            self.getImage(112,  32, 16, 16))  # Right walking 3 [3]
        self.right_small_normal_frames.append(
            self.getImage(144, 32, 16, 16))  # Right jump [4]
        self.right_small_normal_frames.append(
            self.getImage(130, 32, 14, 16))  # Right skid [5]
        self.right_small_normal_frames.append(
            self.getImage(160, 32, 15, 16))  # Death frame [6]
        self.right_small_normal_frames.append(
            self.getImage(320, 8, 16, 24))  # Transition small to big [7]
        self.right_small_normal_frames.append(
            self.getImage(241, 33, 16, 16))  # Transition big to small [8]
        self.right_small_normal_frames.append(
            self.getImage(194, 32, 12, 16))  # Frame 1 of flag pole Slide [9]
        self.right_small_normal_frames.append(
            self.getImage(210, 33, 12, 16))  # Frame 2 of flag pole slide [10]


        #Images for small green mario (for invincible animation)#

        self.right_small_green_frames.append(
            self.getImage(178, 224, 12, 16))  # Right standing [0]
        self.right_small_green_frames.append(
            self.getImage(80, 224, 15, 16))  # Right walking 1 [1]
        self.right_small_green_frames.append(
            self.getImage(96, 224, 16, 16))  # Right walking 2 [2]
        self.right_small_green_frames.append(
            self.getImage(112, 224, 15, 16))  # Right walking 3 [3]
        self.right_small_green_frames.append(
            self.getImage(144, 224, 16, 16))  # Right jump [4]
        self.right_small_green_frames.append(
            self.getImage(130, 224, 14, 16))  # Right skid [5]

        #Images for red mario (for invincible animation) #

        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(178, 272, 12, 16))  # Right standing [0]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(80, 272, 15, 16))  # Right walking 1 [1]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(96, 272, 16, 16))  # Right walking 2 [2]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(112, 272, 15, 16))  # Right walking 3 [3]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(144, 272, 16, 16))  # Right jump [4]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(130, 272, 14, 16))  # Right skid [5]

        #Images for black mario (for invincible animation) #

        self.right_small_black_frames.append(
            self.getImage(178, 176, 12, 16))  # Right standing [0]
        self.right_small_black_frames.append(
            self.getImage(80, 176, 15, 16))  # Right walking 1 [1]
        self.right_small_black_frames.append(
            self.getImage(96, 176, 16, 16))  # Right walking 2 [2]
        self.right_small_black_frames.append(
            self.getImage(112, 176, 15, 16))  # Right walking 3 [3]
        self.right_small_black_frames.append(
            self.getImage(144, 176, 16, 16))  # Right jump [4]
        self.right_small_black_frames.append(
            self.getImage(130, 176, 14, 16))  # Right skid [5]


        # Images for normal big Mario #

        self.right_big_normal_frames.append(
            self.getImage(176, 0, 16, 32))  # Right standing [0]
        self.right_big_normal_frames.append(
            self.getImage(81, 0, 16, 32))  # Right walking 1 [1]
        self.right_big_normal_frames.append(
            self.getImage(97, 0, 15, 32))  # Right walking 2 [2]
        self.right_big_normal_frames.append(
            self.getImage(113, 0, 15, 32))  # Right walking 3 [3]
        self.right_big_normal_frames.append(
            self.getImage(144, 0, 16, 32))  # Right jump [4]
        self.right_big_normal_frames.append(
            self.getImage(128, 0, 16, 32))  # Right skid [5]
        self.right_big_normal_frames.append(
            self.getImage(336, 0, 16, 32))  # Right throwing [6]
        self.right_big_normal_frames.append(
            self.getImage(160, 10, 16, 22))  # Right crouching [7]
        self.right_big_normal_frames.append(
            self.getImage(272, 2, 16, 29))  # Transition big to small [8]
        self.right_big_normal_frames.append(
            self.getImage(193, 2, 16, 30))  # Frame 1 of flag pole slide [9]
        self.right_big_normal_frames.append(
            self.getImage(209, 2, 16, 29))  # Frame 2 of flag pole slide [10]

        # Images for green  big Mario #

        self.right_big_green_frames.append(
            self.getImage(176, 192, 16, 32))  # Right standing [0]
        self.right_big_green_frames.append(
            self.getImage(81, 192, 16, 32))  # Right walking 1 [1]
        self.right_big_green_frames.append(
            self.getImage(97, 192, 15, 32))  # Right walking 2 [2]
        self.right_big_green_frames.append(
            self.getImage(113, 192, 15, 32))  # Right walking 3 [3]
        self.right_big_green_frames.append(
            self.getImage(144, 192, 16, 32))  # Right jump [4]
        self.right_big_green_frames.append(
            self.getImage(128, 192, 16, 32))  # Right skid [5]
        self.right_big_green_frames.append(
            self.getImage(336, 192, 16, 32))  # Right throwing [6]
        self.right_big_green_frames.append(
            self.getImage(160, 202, 16, 22))  # Right Crouching [7]

        # Images for red big Mario #

        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(176, 240, 16, 32))  # Right standing [0]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(81, 240, 16, 32))  # Right walking 1 [1]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(97, 240, 15, 32))  # Right walking 2 [2]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(113, 240, 15, 32))  # Right walking 3 [3]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(144, 240, 16, 32))  # Right jump [4]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(128, 240, 16, 32))  # Right skid [5]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(336, 240, 16, 32))  # Right throwing [6]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(160, 250, 16, 22))  # Right crouching [7]

        # Images for black big Mario #

        self.right_big_black_frames.append(
            self.getImage(176, 144, 16, 32))  # Right standing [0]
        self.right_big_black_frames.append(
            self.getImage(81, 144, 16, 32))  # Right walking 1 [1]
        self.right_big_black_frames.append(
            self.getImage(97, 144, 15, 32))  # Right walking 2 [2]
        self.right_big_black_frames.append(
            self.getImage(113, 144, 15, 32))  # Right walking 3 [3]
        self.right_big_black_frames.append(
            self.getImage(144, 144, 16, 32))  # Right jump [4]
        self.right_big_black_frames.append(
            self.getImage(128, 144, 16, 32))  # Right skid [5]
        self.right_big_black_frames.append(
            self.getImage(336, 144, 16, 32))  # Right throwing [6]
        self.right_big_black_frames.append(
            self.getImage(160, 154, 16, 22))  # Right Crouching [7]


        # Images for Fire Mario #

        self.right_fire_frames.append(
            self.getImage(176, 48, 16, 32))  # Right standing [0]
        self.right_fire_frames.append(
            self.getImage(81, 48, 16, 32))  # Right walking 1 [1]
        self.right_fire_frames.append(
            self.getImage(97, 48, 15, 32))  # Right walking 2 [2]
        self.right_fire_frames.append(
            self.getImage(113, 48, 15, 32))  # Right walking 3 [3]
        self.right_fire_frames.append(
            self.getImage(144, 48, 16, 32))  # Right jump [4]
        self.right_fire_frames.append(
            self.getImage(128, 48, 16, 32))  # Right skid [5]
        self.right_fire_frames.append(
            self.getImage(336, 48, 16, 32))  # Right throwing [6]
        self.right_fire_frames.append(
            self.getImage(160, 58, 16, 22))  # Right crouching [7]
        self.right_fire_frames.append(
            self.getImage(0, 0, 0, 0))  # Place holder [8]
        self.right_fire_frames.append(
            self.getImage(193, 50, 16, 29))  # Frame 1 of flag pole slide [9]
        self.right_fire_frames.append(
            self.getImage(209, 50, 16, 29))  # Frame 2 of flag pole slide [10]


        # The left image frames are numbered the same as the right frames but are simply reversed. #

        for frame in self.right_small_normal_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_small_normal_frames.append(new_image)

        for frame in self.right_small_green_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_small_green_frames.append(new_image)

        for frame in self.right_small_COLOR_RGB_RED_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_small_COLOR_RGB_RED_frames.append(new_image)

        for frame in self.right_small_black_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_small_black_frames.append(new_image)

        for frame in self.right_big_normal_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_big_normal_frames.append(new_image)

        for frame in self.right_big_green_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_big_green_frames.append(new_image)

        for frame in self.right_big_COLOR_RGB_RED_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_big_COLOR_RGB_RED_frames.append(new_image)

        for frame in self.right_big_black_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_big_black_frames.append(new_image)

        for frame in self.right_fire_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_fire_frames.append(new_image)


        self.normal_small_frames = [self.right_small_normal_frames,
                              self.left_small_normal_frames]

        self.green_small_frames = [self.right_small_green_frames,
                             self.left_small_green_frames]

        self.red_small_frames = [self.right_small_COLOR_RGB_RED_frames,
                           self.left_small_COLOR_RGB_RED_frames]

        self.black_small_frames = [self.right_small_black_frames,
                             self.left_small_black_frames]

        self.invincible_small_frames_list = [self.normal_small_frames,
                                          self.green_small_frames,
                                          self.red_small_frames,
                                          self.black_small_frames]

        self.normal_big_frames = [self.right_big_normal_frames,
                                  self.left_big_normal_frames]

        self.green_big_frames = [self.right_big_green_frames,
                                 self.left_big_green_frames]

        self.red_big_frames = [self.right_big_COLOR_RGB_RED_frames,
                               self.left_big_COLOR_RGB_RED_frames]

        self.black_big_frames = [self.right_big_black_frames,
                                 self.left_big_black_frames]

        self.fire_frames = [self.right_fire_frames,
                            self.left_fire_frames]

        self.invincible_big_frames_list = [self.normal_big_frames,
                                           self.green_big_frames,
                                           self.red_big_frames,
                                           self.black_big_frames]

        self.all_images = [self.right_big_normal_frames,
                           self.right_big_black_frames,
                           self.right_big_COLOR_RGB_RED_frames,
                           self.right_big_green_frames,
                           self.right_small_normal_frames,
                           self.right_small_green_frames,
                           self.right_small_COLOR_RGB_RED_frames,
                           self.right_small_black_frames,
                           self.left_big_normal_frames,
                           self.left_big_black_frames,
                           self.left_big_COLOR_RGB_RED_frames,
                           self.left_big_green_frames,
                           self.left_small_normal_frames,
                           self.left_small_COLOR_RGB_RED_frames,
                           self.left_small_green_frames,
                           self.left_small_black_frames]


        self.right_frames = self.normal_small_frames[0]
        self.left_frames = self.normal_small_frames[1]


    def getImage(self, x, y, width, height):
        &#34;&#34;&#34;
        This functiion gets the surface, and then copies the spritesheet using the parameters given in order to return the correct
        sprite for Mario&#39;s animation.

        Parameters:
            x (int): X coordinate of sprite in sheet
            y (int): Y coordinate of sprite in sheet
            width (int): Width of sprite in sheet
            height (int): Height of sprite in sheet
        
        Returns:
            Returns the image
        &#34;&#34;&#34;
        image = pygame.Surface([width, height])
        rect = image.get_rect()

        image.blit(self.spr_sheet, (0, 0), (x, y, width, height))
        image.set_colorkey(gGameSettings.COLOR_RGB_BLACK)
        image = pygame.transform.scale(image,
                                   (int(rect.width*gGameSettings.SIZE_MULTIPLIER),
                                    int(rect.height*gGameSettings.SIZE_MULTIPLIER)))
        return image


    def update(self, keys, gGameInfo, fire_group):
        &#34;&#34;&#34;
        This function updates Mario&#39;s animation every frame

        Parameters:
            keys: Dictionary key for Mario&#39;s state
            gGameInfo: Global game info
            fire_group: Check for fire mario.
            
        &#34;&#34;&#34;
        self.current_time = gGameInfo[gGameSettings.GLOBAL_TIME]
        self.stateHandler(keys, fire_group)
        self.Mario_StateCheckSpecial()
        self.Mario_SetAnimationImage()


    def stateHandler(self, keys, fire_group):

        &#34;&#34;&#34;
        This function handles Mario&#39;s states depending on what he is doing at a particular moment.

        Parameters:
            keys: Dictionary key for Mario&#39;s state
            gGameInfo: Global game info
            fire_group: Check for fire mario.
        &#34;&#34;&#34;
        if self.state == gGameSettings.MARIO_STATE_STANDING:
            self.Mario_Standing(keys, fire_group)
        elif self.state == gGameSettings.MARIO_STATE_WALK:
            self.Mario_Walking(keys, fire_group)
        elif self.state == gGameSettings.MARIO_STATE_JUMP:
            self.Mario_Jumping(keys, fire_group)
        elif self.state == gGameSettings.MARIO_STATE_FALL:
            self.Mario_Falling(keys, fire_group)
        elif self.state == gGameSettings.GOOMBA_STATE_DEATH:
            self.Mario_JumpToDeath()
        elif self.state == gGameSettings.MARIO_STATE_SMALL_TO_BIG:
            self.Mario_ChangingToBig()
        elif self.state == gGameSettings.MARIO_STATE_BIG_TO_FIRE:
            self.Mario_ChangeToFire()
        elif self.state == gGameSettings.MARIO_STATE_BIG_TO_SMALL:
            self.Mario_ChangingToSmall()
        elif self.state == gGameSettings.MARIO_STATE_ON_FLAGPOLE:
            self.Mario_PoleSlide()
        elif self.state == gGameSettings.FLAGSTATE_BOTTOM_OF_POLE:
            self.Mario_BottomOfPole()
        elif self.state == gGameSettings.MARIO_STATE_WALKING_TO_CASTLE:
            self.Mario_WalkingToCastle()
        elif self.state == gGameSettings.MARIO_STATE_END_OF_LEVEL:
            self.Mario_FallAtEnd()


    def Mario_Standing(self, keys, fire_group):
        &#34;&#34;&#34;
        This function handles Mario&#39;s &#34;Standing&#34; state

        Parameters:
            keys: Dictionary key for Mario&#39;s state
            fire_group: Check for fire mario
        &#34;&#34;&#34;
        self.Mario_JumpCheck(keys)
        self.Mario_FireballCheck(keys)

        self.frame_index = 0
        self.x_vel = 0
        self.y_vel = 0

        if keys[tools.keybinding[&#39;action&#39;]]:
            if self.fire and self.allow_fireball:
                self.Mario_ShootFireball(fire_group)

        if keys[tools.keybinding[&#39;down&#39;]]:
            self.crouching = True

        if keys[tools.keybinding[&#39;left&#39;]]:
            self.facing_right = False
            self.Mario_ExitCrouch()
            self.state = gGameSettings.MARIO_STATE_WALK
        elif keys[tools.keybinding[&#39;right&#39;]]:
            self.facing_right = True
            self.Mario_ExitCrouch()
            self.state = gGameSettings.MARIO_STATE_WALK
        elif keys[tools.keybinding[&#39;jump&#39;]]:
            if self.allow_jump:
                if self.big:
                    setup.SFX[&#39;big_jump&#39;].play()
                else:
                    setup.SFX[&#39;small_jump&#39;].play()
                self.state = gGameSettings.MARIO_STATE_JUMP
                self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY
        else:
            self.state = gGameSettings.MARIO_STATE_STANDING

        if not keys[tools.keybinding[&#39;down&#39;]]:
            self.Mario_ExitCrouch()


    def Mario_ExitCrouch(self):
        &#34;&#34;&#34;
        This function changes Mario&#39;s collision box from crouch to leaving crouch.
        &#34;&#34;&#34;
        bottom = self.rect.bottom
        left = self.rect.x
        if self.facing_right:
            self.image = self.right_frames[0]
        else:
            self.image = self.left_frames[0]
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.x = left
        self.crouching = False


    def Mario_JumpCheck(self, keys):
        &#34;&#34;&#34;
        This function checks if Mario is allowed to jump. It prevents double jumps.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
        &#34;&#34;&#34;
        if not keys[tools.keybinding[&#39;jump&#39;]]:
            self.allow_jump = True


    def Mario_FireballCheck(self, keys):
        &#34;&#34;&#34;
        This function checks if Mario is allowed to use a fireball.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
        
        &#34;&#34;&#34;
        if not keys[tools.keybinding[&#39;action&#39;]]:
            self.allow_fireball = True


    def Mario_ShootFireball(self, powerups):
        &#34;&#34;&#34;
        This function shoots a fireball from Mario&#39;s hand.
        
        Parameters:
            powerups: Empty array that will be filled with fireball powerups. Used to prevent too many from being loaded on screen at once.
        &#34;&#34;&#34;
        setup.SFX[&#39;fireball&#39;].play()
        self.fireball_count = self.Mario_FireballCount(powerups)

        if (self.current_time - self.last_fireball_time) &gt; 200:
            if self.fireball_count &lt; 2:
                self.allow_fireball = False
                powerups.add(
                    powerups.FireBall(self.rect.right, self.rect.y, self.facing_right))
                self.last_fireball_time = self.current_time

                self.frame_index = 6
                if self.facing_right:
                    self.image = self.right_frames[self.frame_index]
                else:
                    self.image = self.left_frames[self.frame_index]


    def Mario_FireballCount(self, powerups):
        &#34;&#34;&#34;
        This function counts the number of fireballs in the fireball array at a time.

        Parameters:
            powerups: Array of fireball powerups. Used to prevent too many fireballs from being loaded on screen at once.
        
        Returns:
            Length of fireball_list
        &#34;&#34;&#34;
        fireball_list = []

        for powerup in powerups:
            if powerup.name == gGameSettings.BRICK_CONTENTS_FIREBALL:
                fireball_list.append(powerup)

        return len(fireball_list)


    def Mario_Walking(self, keys, fire_group):
        &#34;&#34;&#34;
        This function handles Mario&#39;s &#34;Walking&#34; state.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
            fire_group: Check for fire mario.
        &#34;&#34;&#34;
        self.Mario_JumpCheck(keys)
        self.Mario_FireballCheck(keys)

        if self.frame_index == 0:
            self.frame_index += 1
            self.walking_timer = self.current_time
        else:
            if (self.current_time - self.walking_timer &gt;
                    self.Mario_Math_CalcAnimationSpeed()):
                if self.frame_index &lt; 3:
                    self.frame_index += 1
                else:
                    self.frame_index = 1

                self.walking_timer = self.current_time

        if keys[tools.keybinding[&#39;action&#39;]]:
            self.max_x_vel = gGameSettings.MARIO_MAX_RUN_SPEED
            self.x_accel = gGameSettings.MARIO_RUN_ACCELERATION
            if self.fire and self.allow_fireball:
                self.Mario_ShootFireball(fire_group)
        else:
            self.max_x_vel = gGameSettings.MARIO_MAX_WALK_SPEED
            self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

        if keys[tools.keybinding[&#39;jump&#39;]]:
            if self.allow_jump:
                if self.big:
                    setup.SFX[&#39;big_jump&#39;].play()
                else:
                    setup.SFX[&#39;small_jump&#39;].play()
                self.state = gGameSettings.MARIO_STATE_JUMP
                if self.x_vel &gt; 4.5 or self.x_vel &lt; -4.5:
                    self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY - .5
                else:
                    self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY


        if keys[tools.keybinding[&#39;left&#39;]]:
            self.Mario_ExitCrouch()
            self.facing_right = False
            if self.x_vel &gt; 0:
                self.frame_index = 5
                self.x_accel = gGameSettings.MARIO_SMALL_TURNAROUND_SPEED
            else:
                self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

            if self.x_vel &gt; (self.max_x_vel * -1):
                self.x_vel -= self.x_accel
                if self.x_vel &gt; -0.5:
                    self.x_vel = -0.5
            elif self.x_vel &lt; (self.max_x_vel * -1):
                self.x_vel += self.x_accel

        elif keys[tools.keybinding[&#39;right&#39;]]:
            self.Mario_ExitCrouch()
            self.facing_right = True
            if self.x_vel &lt; 0:
                self.frame_index = 5
                self.x_accel = gGameSettings.MARIO_SMALL_TURNAROUND_SPEED
            else:
                self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

            if self.x_vel &lt; self.max_x_vel:
                self.x_vel += self.x_accel
                if self.x_vel &lt; 0.5:
                    self.x_vel = 0.5
            elif self.x_vel &gt; self.max_x_vel:
                self.x_vel -= self.x_accel

        else:
            if self.facing_right:
                if self.x_vel &gt; 0:
                    self.x_vel -= self.x_accel
                else:
                    self.x_vel = 0
                    self.state = gGameSettings.MARIO_STATE_STANDING
            else:
                if self.x_vel &lt; 0:
                    self.x_vel += self.x_accel
                else:
                    self.x_vel = 0
                    self.state = gGameSettings.MARIO_STATE_STANDING


    def Mario_Math_CalcAnimationSpeed(self):
        &#34;&#34;&#34;
        Calculates Mario&#39;s current Animation Speed

        Returns:
            animation_speed: current animation speed
        &#34;&#34;&#34;
        if self.x_vel == 0:
            animation_speed = 130
        elif self.x_vel &gt; 0:
            animation_speed = 130 - (self.x_vel * (13))
        else:
            animation_speed = 130 - (self.x_vel * (13) * -1)

        return animation_speed


    def Mario_Jumping(self, keys, fire_group):
        &#34;&#34;&#34;
        This function handles Mario&#39;s jumping state.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
            fire_group: Check for fire mario.
        &#34;&#34;&#34;
        self.allow_jump = False
        self.frame_index = 4
        self.gravity = gGameSettings.MARIO_JUMP_GRAVITY
        self.y_vel += self.gravity
        self.Mario_FireballCheck(keys)

        if self.y_vel &gt;= 0 and self.y_vel &lt; self.max_y_vel:
            self.gravity = gGameSettings.WORLD_GRAVITY
            self.state = gGameSettings.MARIO_STATE_FALL

        if keys[tools.keybinding[&#39;left&#39;]]:
            if self.x_vel &gt; (self.max_x_vel * - 1):
                self.x_vel -= self.x_accel

        elif keys[tools.keybinding[&#39;right&#39;]]:
            if self.x_vel &lt; self.max_x_vel:
                self.x_vel += self.x_accel

        if not keys[tools.keybinding[&#39;jump&#39;]]:
            self.gravity = gGameSettings.WORLD_GRAVITY
            self.state = gGameSettings.MARIO_STATE_FALL

        if keys[tools.keybinding[&#39;action&#39;]]:
            if self.fire and self.allow_fireball:
                self.Mario_ShootFireball(fire_group)


    def Mario_Falling(self, keys, fire_group):
        &#34;&#34;&#34;
        This function handles Mario&#39;s falling state.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
            fire_group: Check for fire mario.
        &#34;&#34;&#34;
        self.Mario_FireballCheck(keys)
        if self.y_vel &lt; gGameSettings.MARIO_MAX_Y_VELOCITY:
            self.y_vel += self.gravity

        if keys[tools.keybinding[&#39;left&#39;]]:
            if self.x_vel &gt; (self.max_x_vel * - 1):
                self.x_vel -= self.x_accel

        elif keys[tools.keybinding[&#39;right&#39;]]:
            if self.x_vel &lt; self.max_x_vel:
                self.x_vel += self.x_accel

        if keys[tools.keybinding[&#39;action&#39;]]:
            if self.fire and self.allow_fireball:
                self.Mario_ShootFireball(fire_group)


    def Mario_JumpToDeath(self):
        &#34;&#34;&#34;
        This function handles Mario&#39;s death jump state.
        &#34;&#34;&#34;
        if self.death_timer == 0:
            self.death_timer = self.current_time
        elif (self.current_time - self.death_timer) &gt; 500:
            self.rect.y += self.y_vel
            self.y_vel += self.gravity


    def InitializeDeathJump(self, gGameInfo):
        &#34;&#34;&#34;
        This function sets Mario&#39;s velocity and initial parameters for his state when jumping down a bottomless pit.

        Parameters:
            gGameInfo: Global game variables
        &#34;&#34;&#34;
        self.dead = True
        gGameInfo[gGameSettings.MARIO_STATE_DEAD] = True
        self.y_vel = -11
        self.gravity = .5
        self.frame_index = 6
        self.image = self.right_frames[self.frame_index]
        self.state = gGameSettings.GOOMBA_STATE_DEATH
        self.in_transition_state = True


    def Mario_ChangingToBig(self):
        &#34;&#34;&#34;
        This function handles Mario&#39;s animation and transition when transitioning to big Mario after eating a mushroom.
        &#34;&#34;&#34;
        self.in_transition_state = True

        if self.transition_timer == 0:
            self.transition_timer = self.current_time
        elif self.Math_Time_Diff(135, 200):
            self.Mario_SetMiddleTransitionAnimation()
        elif self.Math_Time_Diff(200, 365):
            self.Mario_SetSmallTransitionAnimation()
        elif self.Math_Time_Diff(365, 430):
            self.Mario_SetMiddleTransitionAnimation()
        elif self.Math_Time_Diff(430, 495):
            self.Mario_SetSmallTransitionAnimation()
        elif self.Math_Time_Diff(495, 560):
            self.Mario_SetMiddleTransitionAnimation()
        elif self.Math_Time_Diff(560, 625):
            self.Mario_SetBigTransitionAnimation()
        elif self.Math_Time_Diff(625, 690):
            self.Mario_SetSmallTransitionAnimation()
        elif self.Math_Time_Diff(690, 755):
            self.Mario_SetMiddleTransitionAnimation()
        elif self.Math_Time_Diff(755, 820):
            self.Mario_SetBigTransitionAnimation()
        elif self.Math_Time_Diff(820, 885):
            self.Mario_SetSmallTransitionAnimation()
        elif self.Math_Time_Diff(885, 950):
            self.Mario_SetBigTransitionAnimation()
            self.state = gGameSettings.MARIO_STATE_WALK
            self.in_transition_state = False
            self.transition_timer = 0
            self.Mario_ChangeToBig()


    def Math_Time_Diff(self, start_time, end_time):
        &#34;&#34;&#34;
        This function returns the difference between two transition times.

        Returns:
            True if (self.current_time - self.transition_timer) &gt;= start_time and (self.current_time - self.transition_timer) &lt; end_time
        &#34;&#34;&#34;
        if (self.current_time - self.transition_timer) &gt;= start_time\
            and (self.current_time - self.transition_timer) &lt; end_time:
            return True


    def Mario_SetMiddleTransitionAnimation(self):
        &#34;&#34;&#34;
        Sets Mario&#39;s animation image to the middle image during a transition.
        &#34;&#34;&#34;
        if self.facing_right:
            self.image = self.normal_small_frames[0][7]
        else:
            self.image = self.normal_small_frames[1][7]
        bottom = self.rect.bottom
        centerx = self.rect.centerx
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.centerx = centerx


    def Mario_SetSmallTransitionAnimation(self):
        &#34;&#34;&#34;
        Sets Mario&#39;s animation image to the small image during a transition.
        &#34;&#34;&#34;
        if self.facing_right:
            self.image = self.normal_small_frames[0][0]
        else:
            self.image = self.normal_small_frames[1][0]
        bottom = self.rect.bottom
        centerx = self.rect.centerx
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.centerx = centerx


    def Mario_SetBigTransitionAnimation(self):
        &#34;&#34;&#34;
        Sets Mario&#39;s animation image to the big image during a transition
        &#34;&#34;&#34;
        if self.facing_right:
            self.image = self.normal_big_frames[0][0]
        else:
            self.image = self.normal_big_frames[1][0]
        bottom = self.rect.bottom
        centerx = self.rect.centerx
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.centerx = centerx


    def Mario_ChangeToBig(self):
        &#34;&#34;&#34;
        This function handles the transition period between when Mario is small to when he changes to big. 
        &#34;&#34;&#34;
        self.big = True
        self.right_frames = self.right_big_normal_frames
        self.left_frames = self.left_big_normal_frames
        bottom = self.rect.bottom
        left = self.rect.x
        image = self.right_frames[0]
        self.rect = image.get_rect()
        self.rect.bottom = bottom
        self.rect.x = left


    def Mario_ChangeToFire(self):
        &#34;&#34;&#34;
        This function handles the transition period when Mario is big and changing to fire flower Mario.
        &#34;&#34;&#34;
        self.in_transition_state = True

        if self.facing_right:
            frames = [self.right_fire_frames[3],
                      self.right_big_green_frames[3],
                      self.right_big_COLOR_RGB_RED_frames[3],
                      self.right_big_black_frames[3]]
        else:
            frames = [self.left_fire_frames[3],
                      self.left_big_green_frames[3],
                      self.left_big_COLOR_RGB_RED_frames[3],
                      self.left_big_black_frames[3]]

        if self.fire_transition_timer == 0:
            self.fire_transition_timer = self.current_time
        elif (self.current_time - self.fire_transition_timer) &gt; 65 and (self.current_time - self.fire_transition_timer) &lt; 130:
            self.image = frames[0]
        elif (self.current_time - self.fire_transition_timer) &lt; 195:
            self.image = frames[1]
        elif (self.current_time - self.fire_transition_timer) &lt; 260:
            self.image = frames[2]
        elif (self.current_time - self.fire_transition_timer) &lt; 325:
            self.image = frames[3]
        elif (self.current_time - self.fire_transition_timer) &lt; 390:
            self.image = frames[0]
        elif (self.current_time - self.fire_transition_timer) &lt; 455:
            self.image = frames[1]
        elif (self.current_time - self.fire_transition_timer) &lt; 520:
            self.image = frames[2]
        elif (self.current_time - self.fire_transition_timer) &lt; 585:
            self.image = frames[3]
        elif (self.current_time - self.fire_transition_timer) &lt; 650:
            self.image = frames[0]
        elif (self.current_time - self.fire_transition_timer) &lt; 715:
            self.image = frames[1]
        elif (self.current_time - self.fire_transition_timer) &lt; 780:
            self.image = frames[2]
        elif (self.current_time - self.fire_transition_timer) &lt; 845:
            self.image = frames[3]
        elif (self.current_time - self.fire_transition_timer) &lt; 910:
            self.image = frames[0]
        elif (self.current_time - self.fire_transition_timer) &lt; 975:
            self.image = frames[1]
        elif (self.current_time - self.fire_transition_timer) &lt; 1040:
            self.image = frames[2]
            self.fire = True
            self.in_transition_state = False
            self.state = gGameSettings.MARIO_STATE_WALK
            self.transition_timer = 0


    def Mario_ChangingToSmall(self):
        &#34;&#34;&#34;
        This function handles Mario&#39;s animation and transition when transitioning to small Mario after getting hit by an enemy or dying.
        &#34;&#34;&#34;
        self.in_transition_state = True
        self.hurt_invincible = True
        self.state = gGameSettings.MARIO_STATE_BIG_TO_SMALL

        if self.facing_right:
            frames = [self.right_big_normal_frames[4],
                      self.right_big_normal_frames[8],
                      self.right_small_normal_frames[8]
                      ]
        else:
            frames = [self.left_big_normal_frames[4],
                      self.left_big_normal_frames[8],
                      self.left_small_normal_frames[8]
                     ]

        if self.transition_timer == 0:
            self.transition_timer = self.current_time
        elif (self.current_time - self.transition_timer) &lt; 265:
            self.image = frames[0]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 330:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 395:
            self.image = frames[2]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 460:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 525:
            self.image = frames[2]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 590:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 655:
            self.image = frames[2]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 720:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 785:
            self.image = frames[2]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 850:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 915:
            self.image = frames[2]
            self.Mario_AdjustCollision()
            self.in_transition_state = False
            self.state = gGameSettings.MARIO_STATE_WALK
            self.big = False
            self.transition_timer = 0
            self.hurt_invisible_timer = 0
            self.Mario_ChangeToSmall()


    def Mario_AdjustCollision(self):
        &#34;&#34;&#34;
        This function is used when Mario&#39;s size changes, in order to adjust his collision appropriately.
        &#34;&#34;&#34;
        x = self.rect.x
        bottom = self.rect.bottom
        self.rect = self.image.get_rect()
        self.rect.x = x
        self.rect.bottom = bottom


    def Mario_ChangeToSmall(self):
        &#34;&#34;&#34;
        This function handles the transition period when Mario changes to small mario after being hit. 
        &#34;&#34;&#34;
        self.big = False
        self.right_frames = self.right_small_normal_frames
        self.left_frames = self.left_small_normal_frames
        bottom = self.rect.bottom
        left = self.rect.x
        image = self.right_frames[0]
        self.rect = image.get_rect()
        self.rect.bottom = bottom
        self.rect.x = left

    def Mario_PoleSlide(self):
        &#34;&#34;&#34;
        This function handles the game state in which Mario slide down the flagpole at the end of the level.
        &#34;&#34;&#34;
        self.state = gGameSettings.MARIO_STATE_ON_FLAGPOLE
        self.in_transition_state = True
        self.x_vel = 0
        self.y_vel = 0

        if self.flag_pole_timer == 0:
            self.flag_pole_timer = self.current_time
        elif self.rect.bottom &lt; 493:
            if (self.current_time - self.flag_pole_timer) &lt; 65:
                self.image = self.right_frames[9]
            elif (self.current_time - self.flag_pole_timer) &lt; 130:
                self.image = self.right_frames[10]
            elif (self.current_time - self.flag_pole_timer) &gt;= 130:
                self.flag_pole_timer = self.current_time

            self.rect.right = self.flag_pole_right
            self.y_vel = 5
            self.rect.y += self.y_vel

            if self.rect.bottom &gt;= 488:
                self.flag_pole_timer = self.current_time

        elif self.rect.bottom &gt;= 493:
            self.image = self.right_frames[10]


    def Mario_BottomOfPole(self):
        &#34;&#34;&#34;
        This function handles the animation where Mario sits at the bottom of the flagpole before being brought to the castle.
        &#34;&#34;&#34;
        if self.flag_pole_timer == 0:
            self.flag_pole_timer = self.current_time
            self.image = self.left_frames[10]
        elif (self.current_time - self.flag_pole_timer) &lt; 210:
            self.image = self.left_frames[10]
        else:
            self.in_transition_state = False
            if self.rect.bottom &lt; 485:
                self.state = gGameSettings.MARIO_STATE_END_OF_LEVEL
            else:
                self.state = gGameSettings.MARIO_STATE_WALKING_TO_CASTLE


    def Mario_BottomOfPoleState(self):
        &#34;&#34;&#34;
        This function handles the gamestate and animation for when Mario is sitting at the bottom of the flagpole at the end of a level.
        &#34;&#34;&#34;
        self.image = self.left_frames[9]
        right = self.rect.right
        #self.rect.bottom = 493
        self.rect.x = right
        if self.big:
            self.rect.x -= 10
        self.flag_pole_timer = 0
        self.state = gGameSettings.FLAGSTATE_BOTTOM_OF_POLE


    def Mario_WalkingToCastle(self):
        &#34;&#34;&#34;
        This function handles the gamestate and animation for when Mario walks to the castle at the end of a level.
        &#34;&#34;&#34;
        self.max_x_vel = 5
        self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

        if self.x_vel &lt; self.max_x_vel:
            self.x_vel += self.x_accel

        if (self.walking_timer == 0 or (self.current_time - self.walking_timer) &gt; 200):
            self.walking_timer = self.current_time

        elif (self.current_time - self.walking_timer) &gt; \
                self.Mario_Math_CalcAnimationSpeed():
            if self.frame_index &lt; 3:
                self.frame_index += 1
            else:
                self.frame_index = 1
            self.walking_timer = self.current_time


    def Mario_FallAtEnd(self, *args):
        &#34;&#34;&#34;
        This function sets Mario&#39;s y velocity to the gravity of the world in order to send the player flying and give the player a game over, thus restarting the level.
        &#34;&#34;&#34;
        self.y_vel += gGameSettings.WORLD_GRAVITY



    def Mario_StateCheckSpecial(self):
        &#34;&#34;&#34;
        This function checks if Mario&#39;s state is one of the four &#34;special&#34; states.
        &#34;&#34;&#34;
        self.Mario_CheckIfInvicible()
        self.Mario_CheckIfFire()
        self.Mario_InvincibilityHurtCheck()
        self.Mario_CrouchCheck()


    def Mario_CheckIfInvicible(self):
        &#34;&#34;&#34;
        This function checks if Mario is invincible. If he is, then set his losing_invincibility value to True and start a frame countdown.
        &#34;&#34;&#34;
        if self.invincible:
            if ((self.current_time - self.invincible_start_timer) &lt; 10000):
                self.losing_invincibility = False
                self.Mario_ChangeFrameList(30)
            elif ((self.current_time - self.invincible_start_timer) &lt; 12000):
                self.losing_invincibility = True
                self.Mario_ChangeFrameList(100)
            else:
                self.losing_invincibility = False
                self.invincible = False
        else:
            if self.big:
                self.right_frames = self.right_big_normal_frames
                self.left_frames = self.left_big_normal_frames
            else:
                self.right_frames = self.invincible_small_frames_list[0][0]
                self.left_frames = self.invincible_small_frames_list[0][1]


    def Mario_ChangeFrameList(self, frame_switch_speed):
        if (self.current_time - self.invincible_animation_timer) &gt; frame_switch_speed:
            if self.invincible_index &lt; (len(self.invincible_small_frames_list) - 1):
                self.invincible_index += 1
            else:
                self.invincible_index = 0

            if self.big:
                frames = self.invincible_big_frames_list[self.invincible_index]
            else:
                frames = self.invincible_small_frames_list[self.invincible_index]

            self.right_frames = frames[0]
            self.left_frames = frames[1]

            self.invincible_animation_timer = self.current_time


    def Mario_CheckIfFire(self):
        if self.fire and self.invincible == False:
            self.right_frames = self.fire_frames[0]
            self.left_frames = self.fire_frames[1]


    def Mario_InvincibilityHurtCheck(self):
        &#34;&#34;&#34;
        This function checks if Mario is hurt during the cooldown period after getting hit.
        &#34;&#34;&#34;
        if self.hurt_invincible and self.state != gGameSettings.MARIO_STATE_BIG_TO_SMALL:
            if self.hurt_invisible_timer2 == 0:
                self.hurt_invisible_timer2 = self.current_time
            elif (self.current_time - self.hurt_invisible_timer2) &lt; 2000:
                self.Mario_SetInvincibility()
            else:
                self.hurt_invincible = False
                self.hurt_invisible_timer = 0
                self.hurt_invisible_timer2 = 0
                for frames in self.all_images:
                    for image in frames:
                        image.set_alpha(255)


    def Mario_SetInvincibility(self):
        &#34;&#34;&#34;
        This function makes mario invicible on a certain time interval after getting hit by an enemy.
        &#34;&#34;&#34;
        if self.hurt_invisible_timer == 0:
            self.hurt_invisible_timer = self.current_time
        elif (self.current_time - self.hurt_invisible_timer) &lt; 35:
            self.image.set_alpha(0)
        elif (self.current_time - self.hurt_invisible_timer) &lt; 70:
            self.image.set_alpha(255)
            self.hurt_invisible_timer = self.current_time


    def Mario_CrouchCheck(self):
        &#34;&#34;&#34;
        This function checks if Mario is crouching. If he is, set animation to crouch and change collision.
        &#34;&#34;&#34;
        if self.crouching and self.big:
            bottom = self.rect.bottom
            left = self.rect.x
            if self.facing_right:
                self.image = self.right_frames[7]
            else:
                self.image = self.left_frames[7]
            self.rect = self.image.get_rect()
            self.rect.bottom = bottom
            self.rect.x = left


    def Mario_SetAnimationImage(self):
        &#34;&#34;&#34;
        This function adjusts Mario&#39;s image for his animation depending on what his state value is.
        &#34;&#34;&#34;
        if self.state == gGameSettings.GOOMBA_STATE_DEATH \
            or self.state == gGameSettings.MARIO_STATE_SMALL_TO_BIG \
            or self.state == gGameSettings.MARIO_STATE_BIG_TO_FIRE \
            or self.state == gGameSettings.MARIO_STATE_BIG_TO_SMALL \
            or self.state == gGameSettings.MARIO_STATE_ON_FLAGPOLE \
            or self.state == gGameSettings.FLAGSTATE_BOTTOM_OF_POLE \
            or self.crouching:
            pass
        elif self.facing_right:
            self.image = self.right_frames[self.frame_index]
        else:
            self.image = self.left_frames[self.frame_index]</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="data.components.mario.Mario"><code class="flex name class">
<span>class <span class="ident">Mario</span></span>
</code></dt>
<dd>
<section class="desc"><p>This is a class to create an instance of the PLAYER, or MARIO.</p>
<p>The constructor for the Mario class.</p>
<p>Sets the sprite sheet to 'mario_bros', which is in the resource folder. This sprite sheet contains all animation frames for Mario.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Mario(pygame.sprite.Sprite):
    &#34;&#34;&#34;
    This is a class to create an instance of the PLAYER, or MARIO.
    &#34;&#34;&#34;
    def __init__(self):

        &#34;&#34;&#34;
        The constructor for the Mario class.

        Sets the sprite sheet to &#39;mario_bros&#39;, which is in the resource folder. This sprite sheet contains all animation frames for Mario.
        &#34;&#34;&#34;
        pygame.sprite.Sprite.__init__(self)
        self.spr_sheet = setup.GFX[&#39;mario_bros&#39;]

        self.timerSetup()
        self.setup_state_booleans()
        self.setup_forces()
        self.counterSetup()
        self.Gfx_LoadSpriteSheet()

        self.state = gGameSettings.MARIO_STATE_WALK
        self.image = self.right_frames[self.frame_index]
        self.rect = self.image.get_rect()
        self.mask = pygame.mask.from_surface(self.image)

        self.key_timer = 0


    def timerSetup(self):
        &#34;&#34;&#34;
        This function sets all global timers to 0.
        &#34;&#34;&#34;
        self.walking_timer = 0
        self.invincible_animation_timer = 0
        self.invincible_start_timer = 0
        self.fire_transition_timer = 0
        self.death_timer = 0
        self.transition_timer = 0
        self.last_fireball_time = 0
        self.hurt_invisible_timer = 0
        self.hurt_invisible_timer2 = 0
        self.flag_pole_timer = 0


    def setup_state_booleans(self):
        &#34;&#34;&#34;
        This function sets all boolean values that Mario will have when he is spawned into the game.
        &#34;&#34;&#34;
        self.facing_right = True # Mario is facing right at the start of the level
        self.allow_jump = True # He is allowed to jump
        self.dead = False # He is not dead
        self.invincible = False # He is not invincible
        self.big = False # He is small mario, as he has not gotten the magic mushroom yet.
        self.fire = False #He is not fire mario, as he has not gotten the fire flower yet.
        self.allow_fireball = True
        self.in_transition_state = False # He is not transitioning states
        self.hurt_invincible = False # He is not hurt
        self.in_castle = False # He is not in the castle
        self.crouching = False # He is not crouching
        self.losing_invincibility = False # He is not invinicble, so he cannot be in a state in which his invincibility is wearing off

    def setup_forces(self):
        &#34;&#34;&#34;
        This function sets all forces that will be acting on Mario when he is spawned into the game. 
        &#34;&#34;&#34;
        self.x_vel = 0
        self.y_vel = 0
        self.max_x_vel = gGameSettings.MARIO_MAX_WALK_SPEED
        self.max_y_vel = gGameSettings.MARIO_MAX_Y_VELOCITY
        self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION
        self.jump_vel = gGameSettings.MARIO_JUMP_VELOCITY
        self.gravity = gGameSettings.WORLD_GRAVITY


    def counterSetup(self):
        &#34;&#34;&#34;
        This function sets all of Mario&#39;s internal counters to zero, clearing any previous values that they may have had.
        &#34;&#34;&#34;
        self.frame_index = 0
        self.invincible_index = 0
        self.fire_transition_index = 0
        self.fireball_count = 0
        self.flag_pole_right = 0


    def Gfx_LoadSpriteSheet(self):

        &#34;&#34;&#34;
        This function loads sprite images needed for Mario&#39;s animation. It uses arrays for each set of animations, and uses the
        getImage function with parameters (x, y, width, height) to access coordinates of the sprite sheet to use as an animation frame.
        &#34;&#34;&#34;
        self.right_frames = []
        self.left_frames = []

        self.right_small_normal_frames = []
        self.left_small_normal_frames = []
        self.right_small_green_frames = []
        self.left_small_green_frames = []
        self.right_small_COLOR_RGB_RED_frames = []
        self.left_small_COLOR_RGB_RED_frames = []
        self.right_small_black_frames = []
        self.left_small_black_frames = []

        self.right_big_normal_frames = []
        self.left_big_normal_frames = []
        self.right_big_green_frames = []
        self.left_big_green_frames = []
        self.right_big_COLOR_RGB_RED_frames = []
        self.left_big_COLOR_RGB_RED_frames = []
        self.right_big_black_frames = []
        self.left_big_black_frames = []

        self.right_fire_frames = []
        self.left_fire_frames = []


        # Images for normal small mario #

        self.right_small_normal_frames.append(
            self.getImage(178, 32, 12, 16))  # Right [0]
        self.right_small_normal_frames.append(
            self.getImage(80,  32, 15, 16))  # Right walking 1 [1]
        self.right_small_normal_frames.append(
            self.getImage(96,  32, 16, 16))  # Right walking 2 [2]
        self.right_small_normal_frames.append(
            self.getImage(112,  32, 16, 16))  # Right walking 3 [3]
        self.right_small_normal_frames.append(
            self.getImage(144, 32, 16, 16))  # Right jump [4]
        self.right_small_normal_frames.append(
            self.getImage(130, 32, 14, 16))  # Right skid [5]
        self.right_small_normal_frames.append(
            self.getImage(160, 32, 15, 16))  # Death frame [6]
        self.right_small_normal_frames.append(
            self.getImage(320, 8, 16, 24))  # Transition small to big [7]
        self.right_small_normal_frames.append(
            self.getImage(241, 33, 16, 16))  # Transition big to small [8]
        self.right_small_normal_frames.append(
            self.getImage(194, 32, 12, 16))  # Frame 1 of flag pole Slide [9]
        self.right_small_normal_frames.append(
            self.getImage(210, 33, 12, 16))  # Frame 2 of flag pole slide [10]


        #Images for small green mario (for invincible animation)#

        self.right_small_green_frames.append(
            self.getImage(178, 224, 12, 16))  # Right standing [0]
        self.right_small_green_frames.append(
            self.getImage(80, 224, 15, 16))  # Right walking 1 [1]
        self.right_small_green_frames.append(
            self.getImage(96, 224, 16, 16))  # Right walking 2 [2]
        self.right_small_green_frames.append(
            self.getImage(112, 224, 15, 16))  # Right walking 3 [3]
        self.right_small_green_frames.append(
            self.getImage(144, 224, 16, 16))  # Right jump [4]
        self.right_small_green_frames.append(
            self.getImage(130, 224, 14, 16))  # Right skid [5]

        #Images for red mario (for invincible animation) #

        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(178, 272, 12, 16))  # Right standing [0]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(80, 272, 15, 16))  # Right walking 1 [1]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(96, 272, 16, 16))  # Right walking 2 [2]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(112, 272, 15, 16))  # Right walking 3 [3]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(144, 272, 16, 16))  # Right jump [4]
        self.right_small_COLOR_RGB_RED_frames.append(
            self.getImage(130, 272, 14, 16))  # Right skid [5]

        #Images for black mario (for invincible animation) #

        self.right_small_black_frames.append(
            self.getImage(178, 176, 12, 16))  # Right standing [0]
        self.right_small_black_frames.append(
            self.getImage(80, 176, 15, 16))  # Right walking 1 [1]
        self.right_small_black_frames.append(
            self.getImage(96, 176, 16, 16))  # Right walking 2 [2]
        self.right_small_black_frames.append(
            self.getImage(112, 176, 15, 16))  # Right walking 3 [3]
        self.right_small_black_frames.append(
            self.getImage(144, 176, 16, 16))  # Right jump [4]
        self.right_small_black_frames.append(
            self.getImage(130, 176, 14, 16))  # Right skid [5]


        # Images for normal big Mario #

        self.right_big_normal_frames.append(
            self.getImage(176, 0, 16, 32))  # Right standing [0]
        self.right_big_normal_frames.append(
            self.getImage(81, 0, 16, 32))  # Right walking 1 [1]
        self.right_big_normal_frames.append(
            self.getImage(97, 0, 15, 32))  # Right walking 2 [2]
        self.right_big_normal_frames.append(
            self.getImage(113, 0, 15, 32))  # Right walking 3 [3]
        self.right_big_normal_frames.append(
            self.getImage(144, 0, 16, 32))  # Right jump [4]
        self.right_big_normal_frames.append(
            self.getImage(128, 0, 16, 32))  # Right skid [5]
        self.right_big_normal_frames.append(
            self.getImage(336, 0, 16, 32))  # Right throwing [6]
        self.right_big_normal_frames.append(
            self.getImage(160, 10, 16, 22))  # Right crouching [7]
        self.right_big_normal_frames.append(
            self.getImage(272, 2, 16, 29))  # Transition big to small [8]
        self.right_big_normal_frames.append(
            self.getImage(193, 2, 16, 30))  # Frame 1 of flag pole slide [9]
        self.right_big_normal_frames.append(
            self.getImage(209, 2, 16, 29))  # Frame 2 of flag pole slide [10]

        # Images for green  big Mario #

        self.right_big_green_frames.append(
            self.getImage(176, 192, 16, 32))  # Right standing [0]
        self.right_big_green_frames.append(
            self.getImage(81, 192, 16, 32))  # Right walking 1 [1]
        self.right_big_green_frames.append(
            self.getImage(97, 192, 15, 32))  # Right walking 2 [2]
        self.right_big_green_frames.append(
            self.getImage(113, 192, 15, 32))  # Right walking 3 [3]
        self.right_big_green_frames.append(
            self.getImage(144, 192, 16, 32))  # Right jump [4]
        self.right_big_green_frames.append(
            self.getImage(128, 192, 16, 32))  # Right skid [5]
        self.right_big_green_frames.append(
            self.getImage(336, 192, 16, 32))  # Right throwing [6]
        self.right_big_green_frames.append(
            self.getImage(160, 202, 16, 22))  # Right Crouching [7]

        # Images for red big Mario #

        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(176, 240, 16, 32))  # Right standing [0]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(81, 240, 16, 32))  # Right walking 1 [1]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(97, 240, 15, 32))  # Right walking 2 [2]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(113, 240, 15, 32))  # Right walking 3 [3]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(144, 240, 16, 32))  # Right jump [4]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(128, 240, 16, 32))  # Right skid [5]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(336, 240, 16, 32))  # Right throwing [6]
        self.right_big_COLOR_RGB_RED_frames.append(
            self.getImage(160, 250, 16, 22))  # Right crouching [7]

        # Images for black big Mario #

        self.right_big_black_frames.append(
            self.getImage(176, 144, 16, 32))  # Right standing [0]
        self.right_big_black_frames.append(
            self.getImage(81, 144, 16, 32))  # Right walking 1 [1]
        self.right_big_black_frames.append(
            self.getImage(97, 144, 15, 32))  # Right walking 2 [2]
        self.right_big_black_frames.append(
            self.getImage(113, 144, 15, 32))  # Right walking 3 [3]
        self.right_big_black_frames.append(
            self.getImage(144, 144, 16, 32))  # Right jump [4]
        self.right_big_black_frames.append(
            self.getImage(128, 144, 16, 32))  # Right skid [5]
        self.right_big_black_frames.append(
            self.getImage(336, 144, 16, 32))  # Right throwing [6]
        self.right_big_black_frames.append(
            self.getImage(160, 154, 16, 22))  # Right Crouching [7]


        # Images for Fire Mario #

        self.right_fire_frames.append(
            self.getImage(176, 48, 16, 32))  # Right standing [0]
        self.right_fire_frames.append(
            self.getImage(81, 48, 16, 32))  # Right walking 1 [1]
        self.right_fire_frames.append(
            self.getImage(97, 48, 15, 32))  # Right walking 2 [2]
        self.right_fire_frames.append(
            self.getImage(113, 48, 15, 32))  # Right walking 3 [3]
        self.right_fire_frames.append(
            self.getImage(144, 48, 16, 32))  # Right jump [4]
        self.right_fire_frames.append(
            self.getImage(128, 48, 16, 32))  # Right skid [5]
        self.right_fire_frames.append(
            self.getImage(336, 48, 16, 32))  # Right throwing [6]
        self.right_fire_frames.append(
            self.getImage(160, 58, 16, 22))  # Right crouching [7]
        self.right_fire_frames.append(
            self.getImage(0, 0, 0, 0))  # Place holder [8]
        self.right_fire_frames.append(
            self.getImage(193, 50, 16, 29))  # Frame 1 of flag pole slide [9]
        self.right_fire_frames.append(
            self.getImage(209, 50, 16, 29))  # Frame 2 of flag pole slide [10]


        # The left image frames are numbered the same as the right frames but are simply reversed. #

        for frame in self.right_small_normal_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_small_normal_frames.append(new_image)

        for frame in self.right_small_green_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_small_green_frames.append(new_image)

        for frame in self.right_small_COLOR_RGB_RED_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_small_COLOR_RGB_RED_frames.append(new_image)

        for frame in self.right_small_black_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_small_black_frames.append(new_image)

        for frame in self.right_big_normal_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_big_normal_frames.append(new_image)

        for frame in self.right_big_green_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_big_green_frames.append(new_image)

        for frame in self.right_big_COLOR_RGB_RED_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_big_COLOR_RGB_RED_frames.append(new_image)

        for frame in self.right_big_black_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_big_black_frames.append(new_image)

        for frame in self.right_fire_frames:
            new_image = pygame.transform.flip(frame, True, False)
            self.left_fire_frames.append(new_image)


        self.normal_small_frames = [self.right_small_normal_frames,
                              self.left_small_normal_frames]

        self.green_small_frames = [self.right_small_green_frames,
                             self.left_small_green_frames]

        self.red_small_frames = [self.right_small_COLOR_RGB_RED_frames,
                           self.left_small_COLOR_RGB_RED_frames]

        self.black_small_frames = [self.right_small_black_frames,
                             self.left_small_black_frames]

        self.invincible_small_frames_list = [self.normal_small_frames,
                                          self.green_small_frames,
                                          self.red_small_frames,
                                          self.black_small_frames]

        self.normal_big_frames = [self.right_big_normal_frames,
                                  self.left_big_normal_frames]

        self.green_big_frames = [self.right_big_green_frames,
                                 self.left_big_green_frames]

        self.red_big_frames = [self.right_big_COLOR_RGB_RED_frames,
                               self.left_big_COLOR_RGB_RED_frames]

        self.black_big_frames = [self.right_big_black_frames,
                                 self.left_big_black_frames]

        self.fire_frames = [self.right_fire_frames,
                            self.left_fire_frames]

        self.invincible_big_frames_list = [self.normal_big_frames,
                                           self.green_big_frames,
                                           self.red_big_frames,
                                           self.black_big_frames]

        self.all_images = [self.right_big_normal_frames,
                           self.right_big_black_frames,
                           self.right_big_COLOR_RGB_RED_frames,
                           self.right_big_green_frames,
                           self.right_small_normal_frames,
                           self.right_small_green_frames,
                           self.right_small_COLOR_RGB_RED_frames,
                           self.right_small_black_frames,
                           self.left_big_normal_frames,
                           self.left_big_black_frames,
                           self.left_big_COLOR_RGB_RED_frames,
                           self.left_big_green_frames,
                           self.left_small_normal_frames,
                           self.left_small_COLOR_RGB_RED_frames,
                           self.left_small_green_frames,
                           self.left_small_black_frames]


        self.right_frames = self.normal_small_frames[0]
        self.left_frames = self.normal_small_frames[1]


    def getImage(self, x, y, width, height):
        &#34;&#34;&#34;
        This functiion gets the surface, and then copies the spritesheet using the parameters given in order to return the correct
        sprite for Mario&#39;s animation.

        Parameters:
            x (int): X coordinate of sprite in sheet
            y (int): Y coordinate of sprite in sheet
            width (int): Width of sprite in sheet
            height (int): Height of sprite in sheet
        
        Returns:
            Returns the image
        &#34;&#34;&#34;
        image = pygame.Surface([width, height])
        rect = image.get_rect()

        image.blit(self.spr_sheet, (0, 0), (x, y, width, height))
        image.set_colorkey(gGameSettings.COLOR_RGB_BLACK)
        image = pygame.transform.scale(image,
                                   (int(rect.width*gGameSettings.SIZE_MULTIPLIER),
                                    int(rect.height*gGameSettings.SIZE_MULTIPLIER)))
        return image


    def update(self, keys, gGameInfo, fire_group):
        &#34;&#34;&#34;
        This function updates Mario&#39;s animation every frame

        Parameters:
            keys: Dictionary key for Mario&#39;s state
            gGameInfo: Global game info
            fire_group: Check for fire mario.
            
        &#34;&#34;&#34;
        self.current_time = gGameInfo[gGameSettings.GLOBAL_TIME]
        self.stateHandler(keys, fire_group)
        self.Mario_StateCheckSpecial()
        self.Mario_SetAnimationImage()


    def stateHandler(self, keys, fire_group):

        &#34;&#34;&#34;
        This function handles Mario&#39;s states depending on what he is doing at a particular moment.

        Parameters:
            keys: Dictionary key for Mario&#39;s state
            gGameInfo: Global game info
            fire_group: Check for fire mario.
        &#34;&#34;&#34;
        if self.state == gGameSettings.MARIO_STATE_STANDING:
            self.Mario_Standing(keys, fire_group)
        elif self.state == gGameSettings.MARIO_STATE_WALK:
            self.Mario_Walking(keys, fire_group)
        elif self.state == gGameSettings.MARIO_STATE_JUMP:
            self.Mario_Jumping(keys, fire_group)
        elif self.state == gGameSettings.MARIO_STATE_FALL:
            self.Mario_Falling(keys, fire_group)
        elif self.state == gGameSettings.GOOMBA_STATE_DEATH:
            self.Mario_JumpToDeath()
        elif self.state == gGameSettings.MARIO_STATE_SMALL_TO_BIG:
            self.Mario_ChangingToBig()
        elif self.state == gGameSettings.MARIO_STATE_BIG_TO_FIRE:
            self.Mario_ChangeToFire()
        elif self.state == gGameSettings.MARIO_STATE_BIG_TO_SMALL:
            self.Mario_ChangingToSmall()
        elif self.state == gGameSettings.MARIO_STATE_ON_FLAGPOLE:
            self.Mario_PoleSlide()
        elif self.state == gGameSettings.FLAGSTATE_BOTTOM_OF_POLE:
            self.Mario_BottomOfPole()
        elif self.state == gGameSettings.MARIO_STATE_WALKING_TO_CASTLE:
            self.Mario_WalkingToCastle()
        elif self.state == gGameSettings.MARIO_STATE_END_OF_LEVEL:
            self.Mario_FallAtEnd()


    def Mario_Standing(self, keys, fire_group):
        &#34;&#34;&#34;
        This function handles Mario&#39;s &#34;Standing&#34; state

        Parameters:
            keys: Dictionary key for Mario&#39;s state
            fire_group: Check for fire mario
        &#34;&#34;&#34;
        self.Mario_JumpCheck(keys)
        self.Mario_FireballCheck(keys)

        self.frame_index = 0
        self.x_vel = 0
        self.y_vel = 0

        if keys[tools.keybinding[&#39;action&#39;]]:
            if self.fire and self.allow_fireball:
                self.Mario_ShootFireball(fire_group)

        if keys[tools.keybinding[&#39;down&#39;]]:
            self.crouching = True

        if keys[tools.keybinding[&#39;left&#39;]]:
            self.facing_right = False
            self.Mario_ExitCrouch()
            self.state = gGameSettings.MARIO_STATE_WALK
        elif keys[tools.keybinding[&#39;right&#39;]]:
            self.facing_right = True
            self.Mario_ExitCrouch()
            self.state = gGameSettings.MARIO_STATE_WALK
        elif keys[tools.keybinding[&#39;jump&#39;]]:
            if self.allow_jump:
                if self.big:
                    setup.SFX[&#39;big_jump&#39;].play()
                else:
                    setup.SFX[&#39;small_jump&#39;].play()
                self.state = gGameSettings.MARIO_STATE_JUMP
                self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY
        else:
            self.state = gGameSettings.MARIO_STATE_STANDING

        if not keys[tools.keybinding[&#39;down&#39;]]:
            self.Mario_ExitCrouch()


    def Mario_ExitCrouch(self):
        &#34;&#34;&#34;
        This function changes Mario&#39;s collision box from crouch to leaving crouch.
        &#34;&#34;&#34;
        bottom = self.rect.bottom
        left = self.rect.x
        if self.facing_right:
            self.image = self.right_frames[0]
        else:
            self.image = self.left_frames[0]
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.x = left
        self.crouching = False


    def Mario_JumpCheck(self, keys):
        &#34;&#34;&#34;
        This function checks if Mario is allowed to jump. It prevents double jumps.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
        &#34;&#34;&#34;
        if not keys[tools.keybinding[&#39;jump&#39;]]:
            self.allow_jump = True


    def Mario_FireballCheck(self, keys):
        &#34;&#34;&#34;
        This function checks if Mario is allowed to use a fireball.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
        
        &#34;&#34;&#34;
        if not keys[tools.keybinding[&#39;action&#39;]]:
            self.allow_fireball = True


    def Mario_ShootFireball(self, powerups):
        &#34;&#34;&#34;
        This function shoots a fireball from Mario&#39;s hand.
        
        Parameters:
            powerups: Empty array that will be filled with fireball powerups. Used to prevent too many from being loaded on screen at once.
        &#34;&#34;&#34;
        setup.SFX[&#39;fireball&#39;].play()
        self.fireball_count = self.Mario_FireballCount(powerups)

        if (self.current_time - self.last_fireball_time) &gt; 200:
            if self.fireball_count &lt; 2:
                self.allow_fireball = False
                powerups.add(
                    powerups.FireBall(self.rect.right, self.rect.y, self.facing_right))
                self.last_fireball_time = self.current_time

                self.frame_index = 6
                if self.facing_right:
                    self.image = self.right_frames[self.frame_index]
                else:
                    self.image = self.left_frames[self.frame_index]


    def Mario_FireballCount(self, powerups):
        &#34;&#34;&#34;
        This function counts the number of fireballs in the fireball array at a time.

        Parameters:
            powerups: Array of fireball powerups. Used to prevent too many fireballs from being loaded on screen at once.
        
        Returns:
            Length of fireball_list
        &#34;&#34;&#34;
        fireball_list = []

        for powerup in powerups:
            if powerup.name == gGameSettings.BRICK_CONTENTS_FIREBALL:
                fireball_list.append(powerup)

        return len(fireball_list)


    def Mario_Walking(self, keys, fire_group):
        &#34;&#34;&#34;
        This function handles Mario&#39;s &#34;Walking&#34; state.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
            fire_group: Check for fire mario.
        &#34;&#34;&#34;
        self.Mario_JumpCheck(keys)
        self.Mario_FireballCheck(keys)

        if self.frame_index == 0:
            self.frame_index += 1
            self.walking_timer = self.current_time
        else:
            if (self.current_time - self.walking_timer &gt;
                    self.Mario_Math_CalcAnimationSpeed()):
                if self.frame_index &lt; 3:
                    self.frame_index += 1
                else:
                    self.frame_index = 1

                self.walking_timer = self.current_time

        if keys[tools.keybinding[&#39;action&#39;]]:
            self.max_x_vel = gGameSettings.MARIO_MAX_RUN_SPEED
            self.x_accel = gGameSettings.MARIO_RUN_ACCELERATION
            if self.fire and self.allow_fireball:
                self.Mario_ShootFireball(fire_group)
        else:
            self.max_x_vel = gGameSettings.MARIO_MAX_WALK_SPEED
            self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

        if keys[tools.keybinding[&#39;jump&#39;]]:
            if self.allow_jump:
                if self.big:
                    setup.SFX[&#39;big_jump&#39;].play()
                else:
                    setup.SFX[&#39;small_jump&#39;].play()
                self.state = gGameSettings.MARIO_STATE_JUMP
                if self.x_vel &gt; 4.5 or self.x_vel &lt; -4.5:
                    self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY - .5
                else:
                    self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY


        if keys[tools.keybinding[&#39;left&#39;]]:
            self.Mario_ExitCrouch()
            self.facing_right = False
            if self.x_vel &gt; 0:
                self.frame_index = 5
                self.x_accel = gGameSettings.MARIO_SMALL_TURNAROUND_SPEED
            else:
                self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

            if self.x_vel &gt; (self.max_x_vel * -1):
                self.x_vel -= self.x_accel
                if self.x_vel &gt; -0.5:
                    self.x_vel = -0.5
            elif self.x_vel &lt; (self.max_x_vel * -1):
                self.x_vel += self.x_accel

        elif keys[tools.keybinding[&#39;right&#39;]]:
            self.Mario_ExitCrouch()
            self.facing_right = True
            if self.x_vel &lt; 0:
                self.frame_index = 5
                self.x_accel = gGameSettings.MARIO_SMALL_TURNAROUND_SPEED
            else:
                self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

            if self.x_vel &lt; self.max_x_vel:
                self.x_vel += self.x_accel
                if self.x_vel &lt; 0.5:
                    self.x_vel = 0.5
            elif self.x_vel &gt; self.max_x_vel:
                self.x_vel -= self.x_accel

        else:
            if self.facing_right:
                if self.x_vel &gt; 0:
                    self.x_vel -= self.x_accel
                else:
                    self.x_vel = 0
                    self.state = gGameSettings.MARIO_STATE_STANDING
            else:
                if self.x_vel &lt; 0:
                    self.x_vel += self.x_accel
                else:
                    self.x_vel = 0
                    self.state = gGameSettings.MARIO_STATE_STANDING


    def Mario_Math_CalcAnimationSpeed(self):
        &#34;&#34;&#34;
        Calculates Mario&#39;s current Animation Speed

        Returns:
            animation_speed: current animation speed
        &#34;&#34;&#34;
        if self.x_vel == 0:
            animation_speed = 130
        elif self.x_vel &gt; 0:
            animation_speed = 130 - (self.x_vel * (13))
        else:
            animation_speed = 130 - (self.x_vel * (13) * -1)

        return animation_speed


    def Mario_Jumping(self, keys, fire_group):
        &#34;&#34;&#34;
        This function handles Mario&#39;s jumping state.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
            fire_group: Check for fire mario.
        &#34;&#34;&#34;
        self.allow_jump = False
        self.frame_index = 4
        self.gravity = gGameSettings.MARIO_JUMP_GRAVITY
        self.y_vel += self.gravity
        self.Mario_FireballCheck(keys)

        if self.y_vel &gt;= 0 and self.y_vel &lt; self.max_y_vel:
            self.gravity = gGameSettings.WORLD_GRAVITY
            self.state = gGameSettings.MARIO_STATE_FALL

        if keys[tools.keybinding[&#39;left&#39;]]:
            if self.x_vel &gt; (self.max_x_vel * - 1):
                self.x_vel -= self.x_accel

        elif keys[tools.keybinding[&#39;right&#39;]]:
            if self.x_vel &lt; self.max_x_vel:
                self.x_vel += self.x_accel

        if not keys[tools.keybinding[&#39;jump&#39;]]:
            self.gravity = gGameSettings.WORLD_GRAVITY
            self.state = gGameSettings.MARIO_STATE_FALL

        if keys[tools.keybinding[&#39;action&#39;]]:
            if self.fire and self.allow_fireball:
                self.Mario_ShootFireball(fire_group)


    def Mario_Falling(self, keys, fire_group):
        &#34;&#34;&#34;
        This function handles Mario&#39;s falling state.

        Parameters:
            keys: Dictionary key for Mario&#39;s state.
            fire_group: Check for fire mario.
        &#34;&#34;&#34;
        self.Mario_FireballCheck(keys)
        if self.y_vel &lt; gGameSettings.MARIO_MAX_Y_VELOCITY:
            self.y_vel += self.gravity

        if keys[tools.keybinding[&#39;left&#39;]]:
            if self.x_vel &gt; (self.max_x_vel * - 1):
                self.x_vel -= self.x_accel

        elif keys[tools.keybinding[&#39;right&#39;]]:
            if self.x_vel &lt; self.max_x_vel:
                self.x_vel += self.x_accel

        if keys[tools.keybinding[&#39;action&#39;]]:
            if self.fire and self.allow_fireball:
                self.Mario_ShootFireball(fire_group)


    def Mario_JumpToDeath(self):
        &#34;&#34;&#34;
        This function handles Mario&#39;s death jump state.
        &#34;&#34;&#34;
        if self.death_timer == 0:
            self.death_timer = self.current_time
        elif (self.current_time - self.death_timer) &gt; 500:
            self.rect.y += self.y_vel
            self.y_vel += self.gravity


    def InitializeDeathJump(self, gGameInfo):
        &#34;&#34;&#34;
        This function sets Mario&#39;s velocity and initial parameters for his state when jumping down a bottomless pit.

        Parameters:
            gGameInfo: Global game variables
        &#34;&#34;&#34;
        self.dead = True
        gGameInfo[gGameSettings.MARIO_STATE_DEAD] = True
        self.y_vel = -11
        self.gravity = .5
        self.frame_index = 6
        self.image = self.right_frames[self.frame_index]
        self.state = gGameSettings.GOOMBA_STATE_DEATH
        self.in_transition_state = True


    def Mario_ChangingToBig(self):
        &#34;&#34;&#34;
        This function handles Mario&#39;s animation and transition when transitioning to big Mario after eating a mushroom.
        &#34;&#34;&#34;
        self.in_transition_state = True

        if self.transition_timer == 0:
            self.transition_timer = self.current_time
        elif self.Math_Time_Diff(135, 200):
            self.Mario_SetMiddleTransitionAnimation()
        elif self.Math_Time_Diff(200, 365):
            self.Mario_SetSmallTransitionAnimation()
        elif self.Math_Time_Diff(365, 430):
            self.Mario_SetMiddleTransitionAnimation()
        elif self.Math_Time_Diff(430, 495):
            self.Mario_SetSmallTransitionAnimation()
        elif self.Math_Time_Diff(495, 560):
            self.Mario_SetMiddleTransitionAnimation()
        elif self.Math_Time_Diff(560, 625):
            self.Mario_SetBigTransitionAnimation()
        elif self.Math_Time_Diff(625, 690):
            self.Mario_SetSmallTransitionAnimation()
        elif self.Math_Time_Diff(690, 755):
            self.Mario_SetMiddleTransitionAnimation()
        elif self.Math_Time_Diff(755, 820):
            self.Mario_SetBigTransitionAnimation()
        elif self.Math_Time_Diff(820, 885):
            self.Mario_SetSmallTransitionAnimation()
        elif self.Math_Time_Diff(885, 950):
            self.Mario_SetBigTransitionAnimation()
            self.state = gGameSettings.MARIO_STATE_WALK
            self.in_transition_state = False
            self.transition_timer = 0
            self.Mario_ChangeToBig()


    def Math_Time_Diff(self, start_time, end_time):
        &#34;&#34;&#34;
        This function returns the difference between two transition times.

        Returns:
            True if (self.current_time - self.transition_timer) &gt;= start_time and (self.current_time - self.transition_timer) &lt; end_time
        &#34;&#34;&#34;
        if (self.current_time - self.transition_timer) &gt;= start_time\
            and (self.current_time - self.transition_timer) &lt; end_time:
            return True


    def Mario_SetMiddleTransitionAnimation(self):
        &#34;&#34;&#34;
        Sets Mario&#39;s animation image to the middle image during a transition.
        &#34;&#34;&#34;
        if self.facing_right:
            self.image = self.normal_small_frames[0][7]
        else:
            self.image = self.normal_small_frames[1][7]
        bottom = self.rect.bottom
        centerx = self.rect.centerx
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.centerx = centerx


    def Mario_SetSmallTransitionAnimation(self):
        &#34;&#34;&#34;
        Sets Mario&#39;s animation image to the small image during a transition.
        &#34;&#34;&#34;
        if self.facing_right:
            self.image = self.normal_small_frames[0][0]
        else:
            self.image = self.normal_small_frames[1][0]
        bottom = self.rect.bottom
        centerx = self.rect.centerx
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.centerx = centerx


    def Mario_SetBigTransitionAnimation(self):
        &#34;&#34;&#34;
        Sets Mario&#39;s animation image to the big image during a transition
        &#34;&#34;&#34;
        if self.facing_right:
            self.image = self.normal_big_frames[0][0]
        else:
            self.image = self.normal_big_frames[1][0]
        bottom = self.rect.bottom
        centerx = self.rect.centerx
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.centerx = centerx


    def Mario_ChangeToBig(self):
        &#34;&#34;&#34;
        This function handles the transition period between when Mario is small to when he changes to big. 
        &#34;&#34;&#34;
        self.big = True
        self.right_frames = self.right_big_normal_frames
        self.left_frames = self.left_big_normal_frames
        bottom = self.rect.bottom
        left = self.rect.x
        image = self.right_frames[0]
        self.rect = image.get_rect()
        self.rect.bottom = bottom
        self.rect.x = left


    def Mario_ChangeToFire(self):
        &#34;&#34;&#34;
        This function handles the transition period when Mario is big and changing to fire flower Mario.
        &#34;&#34;&#34;
        self.in_transition_state = True

        if self.facing_right:
            frames = [self.right_fire_frames[3],
                      self.right_big_green_frames[3],
                      self.right_big_COLOR_RGB_RED_frames[3],
                      self.right_big_black_frames[3]]
        else:
            frames = [self.left_fire_frames[3],
                      self.left_big_green_frames[3],
                      self.left_big_COLOR_RGB_RED_frames[3],
                      self.left_big_black_frames[3]]

        if self.fire_transition_timer == 0:
            self.fire_transition_timer = self.current_time
        elif (self.current_time - self.fire_transition_timer) &gt; 65 and (self.current_time - self.fire_transition_timer) &lt; 130:
            self.image = frames[0]
        elif (self.current_time - self.fire_transition_timer) &lt; 195:
            self.image = frames[1]
        elif (self.current_time - self.fire_transition_timer) &lt; 260:
            self.image = frames[2]
        elif (self.current_time - self.fire_transition_timer) &lt; 325:
            self.image = frames[3]
        elif (self.current_time - self.fire_transition_timer) &lt; 390:
            self.image = frames[0]
        elif (self.current_time - self.fire_transition_timer) &lt; 455:
            self.image = frames[1]
        elif (self.current_time - self.fire_transition_timer) &lt; 520:
            self.image = frames[2]
        elif (self.current_time - self.fire_transition_timer) &lt; 585:
            self.image = frames[3]
        elif (self.current_time - self.fire_transition_timer) &lt; 650:
            self.image = frames[0]
        elif (self.current_time - self.fire_transition_timer) &lt; 715:
            self.image = frames[1]
        elif (self.current_time - self.fire_transition_timer) &lt; 780:
            self.image = frames[2]
        elif (self.current_time - self.fire_transition_timer) &lt; 845:
            self.image = frames[3]
        elif (self.current_time - self.fire_transition_timer) &lt; 910:
            self.image = frames[0]
        elif (self.current_time - self.fire_transition_timer) &lt; 975:
            self.image = frames[1]
        elif (self.current_time - self.fire_transition_timer) &lt; 1040:
            self.image = frames[2]
            self.fire = True
            self.in_transition_state = False
            self.state = gGameSettings.MARIO_STATE_WALK
            self.transition_timer = 0


    def Mario_ChangingToSmall(self):
        &#34;&#34;&#34;
        This function handles Mario&#39;s animation and transition when transitioning to small Mario after getting hit by an enemy or dying.
        &#34;&#34;&#34;
        self.in_transition_state = True
        self.hurt_invincible = True
        self.state = gGameSettings.MARIO_STATE_BIG_TO_SMALL

        if self.facing_right:
            frames = [self.right_big_normal_frames[4],
                      self.right_big_normal_frames[8],
                      self.right_small_normal_frames[8]
                      ]
        else:
            frames = [self.left_big_normal_frames[4],
                      self.left_big_normal_frames[8],
                      self.left_small_normal_frames[8]
                     ]

        if self.transition_timer == 0:
            self.transition_timer = self.current_time
        elif (self.current_time - self.transition_timer) &lt; 265:
            self.image = frames[0]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 330:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 395:
            self.image = frames[2]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 460:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 525:
            self.image = frames[2]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 590:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 655:
            self.image = frames[2]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 720:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 785:
            self.image = frames[2]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 850:
            self.image = frames[1]
            self.Mario_SetInvincibility()
            self.Mario_AdjustCollision()
        elif (self.current_time - self.transition_timer) &lt; 915:
            self.image = frames[2]
            self.Mario_AdjustCollision()
            self.in_transition_state = False
            self.state = gGameSettings.MARIO_STATE_WALK
            self.big = False
            self.transition_timer = 0
            self.hurt_invisible_timer = 0
            self.Mario_ChangeToSmall()


    def Mario_AdjustCollision(self):
        &#34;&#34;&#34;
        This function is used when Mario&#39;s size changes, in order to adjust his collision appropriately.
        &#34;&#34;&#34;
        x = self.rect.x
        bottom = self.rect.bottom
        self.rect = self.image.get_rect()
        self.rect.x = x
        self.rect.bottom = bottom


    def Mario_ChangeToSmall(self):
        &#34;&#34;&#34;
        This function handles the transition period when Mario changes to small mario after being hit. 
        &#34;&#34;&#34;
        self.big = False
        self.right_frames = self.right_small_normal_frames
        self.left_frames = self.left_small_normal_frames
        bottom = self.rect.bottom
        left = self.rect.x
        image = self.right_frames[0]
        self.rect = image.get_rect()
        self.rect.bottom = bottom
        self.rect.x = left

    def Mario_PoleSlide(self):
        &#34;&#34;&#34;
        This function handles the game state in which Mario slide down the flagpole at the end of the level.
        &#34;&#34;&#34;
        self.state = gGameSettings.MARIO_STATE_ON_FLAGPOLE
        self.in_transition_state = True
        self.x_vel = 0
        self.y_vel = 0

        if self.flag_pole_timer == 0:
            self.flag_pole_timer = self.current_time
        elif self.rect.bottom &lt; 493:
            if (self.current_time - self.flag_pole_timer) &lt; 65:
                self.image = self.right_frames[9]
            elif (self.current_time - self.flag_pole_timer) &lt; 130:
                self.image = self.right_frames[10]
            elif (self.current_time - self.flag_pole_timer) &gt;= 130:
                self.flag_pole_timer = self.current_time

            self.rect.right = self.flag_pole_right
            self.y_vel = 5
            self.rect.y += self.y_vel

            if self.rect.bottom &gt;= 488:
                self.flag_pole_timer = self.current_time

        elif self.rect.bottom &gt;= 493:
            self.image = self.right_frames[10]


    def Mario_BottomOfPole(self):
        &#34;&#34;&#34;
        This function handles the animation where Mario sits at the bottom of the flagpole before being brought to the castle.
        &#34;&#34;&#34;
        if self.flag_pole_timer == 0:
            self.flag_pole_timer = self.current_time
            self.image = self.left_frames[10]
        elif (self.current_time - self.flag_pole_timer) &lt; 210:
            self.image = self.left_frames[10]
        else:
            self.in_transition_state = False
            if self.rect.bottom &lt; 485:
                self.state = gGameSettings.MARIO_STATE_END_OF_LEVEL
            else:
                self.state = gGameSettings.MARIO_STATE_WALKING_TO_CASTLE


    def Mario_BottomOfPoleState(self):
        &#34;&#34;&#34;
        This function handles the gamestate and animation for when Mario is sitting at the bottom of the flagpole at the end of a level.
        &#34;&#34;&#34;
        self.image = self.left_frames[9]
        right = self.rect.right
        #self.rect.bottom = 493
        self.rect.x = right
        if self.big:
            self.rect.x -= 10
        self.flag_pole_timer = 0
        self.state = gGameSettings.FLAGSTATE_BOTTOM_OF_POLE


    def Mario_WalkingToCastle(self):
        &#34;&#34;&#34;
        This function handles the gamestate and animation for when Mario walks to the castle at the end of a level.
        &#34;&#34;&#34;
        self.max_x_vel = 5
        self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

        if self.x_vel &lt; self.max_x_vel:
            self.x_vel += self.x_accel

        if (self.walking_timer == 0 or (self.current_time - self.walking_timer) &gt; 200):
            self.walking_timer = self.current_time

        elif (self.current_time - self.walking_timer) &gt; \
                self.Mario_Math_CalcAnimationSpeed():
            if self.frame_index &lt; 3:
                self.frame_index += 1
            else:
                self.frame_index = 1
            self.walking_timer = self.current_time


    def Mario_FallAtEnd(self, *args):
        &#34;&#34;&#34;
        This function sets Mario&#39;s y velocity to the gravity of the world in order to send the player flying and give the player a game over, thus restarting the level.
        &#34;&#34;&#34;
        self.y_vel += gGameSettings.WORLD_GRAVITY



    def Mario_StateCheckSpecial(self):
        &#34;&#34;&#34;
        This function checks if Mario&#39;s state is one of the four &#34;special&#34; states.
        &#34;&#34;&#34;
        self.Mario_CheckIfInvicible()
        self.Mario_CheckIfFire()
        self.Mario_InvincibilityHurtCheck()
        self.Mario_CrouchCheck()


    def Mario_CheckIfInvicible(self):
        &#34;&#34;&#34;
        This function checks if Mario is invincible. If he is, then set his losing_invincibility value to True and start a frame countdown.
        &#34;&#34;&#34;
        if self.invincible:
            if ((self.current_time - self.invincible_start_timer) &lt; 10000):
                self.losing_invincibility = False
                self.Mario_ChangeFrameList(30)
            elif ((self.current_time - self.invincible_start_timer) &lt; 12000):
                self.losing_invincibility = True
                self.Mario_ChangeFrameList(100)
            else:
                self.losing_invincibility = False
                self.invincible = False
        else:
            if self.big:
                self.right_frames = self.right_big_normal_frames
                self.left_frames = self.left_big_normal_frames
            else:
                self.right_frames = self.invincible_small_frames_list[0][0]
                self.left_frames = self.invincible_small_frames_list[0][1]


    def Mario_ChangeFrameList(self, frame_switch_speed):
        if (self.current_time - self.invincible_animation_timer) &gt; frame_switch_speed:
            if self.invincible_index &lt; (len(self.invincible_small_frames_list) - 1):
                self.invincible_index += 1
            else:
                self.invincible_index = 0

            if self.big:
                frames = self.invincible_big_frames_list[self.invincible_index]
            else:
                frames = self.invincible_small_frames_list[self.invincible_index]

            self.right_frames = frames[0]
            self.left_frames = frames[1]

            self.invincible_animation_timer = self.current_time


    def Mario_CheckIfFire(self):
        if self.fire and self.invincible == False:
            self.right_frames = self.fire_frames[0]
            self.left_frames = self.fire_frames[1]


    def Mario_InvincibilityHurtCheck(self):
        &#34;&#34;&#34;
        This function checks if Mario is hurt during the cooldown period after getting hit.
        &#34;&#34;&#34;
        if self.hurt_invincible and self.state != gGameSettings.MARIO_STATE_BIG_TO_SMALL:
            if self.hurt_invisible_timer2 == 0:
                self.hurt_invisible_timer2 = self.current_time
            elif (self.current_time - self.hurt_invisible_timer2) &lt; 2000:
                self.Mario_SetInvincibility()
            else:
                self.hurt_invincible = False
                self.hurt_invisible_timer = 0
                self.hurt_invisible_timer2 = 0
                for frames in self.all_images:
                    for image in frames:
                        image.set_alpha(255)


    def Mario_SetInvincibility(self):
        &#34;&#34;&#34;
        This function makes mario invicible on a certain time interval after getting hit by an enemy.
        &#34;&#34;&#34;
        if self.hurt_invisible_timer == 0:
            self.hurt_invisible_timer = self.current_time
        elif (self.current_time - self.hurt_invisible_timer) &lt; 35:
            self.image.set_alpha(0)
        elif (self.current_time - self.hurt_invisible_timer) &lt; 70:
            self.image.set_alpha(255)
            self.hurt_invisible_timer = self.current_time


    def Mario_CrouchCheck(self):
        &#34;&#34;&#34;
        This function checks if Mario is crouching. If he is, set animation to crouch and change collision.
        &#34;&#34;&#34;
        if self.crouching and self.big:
            bottom = self.rect.bottom
            left = self.rect.x
            if self.facing_right:
                self.image = self.right_frames[7]
            else:
                self.image = self.left_frames[7]
            self.rect = self.image.get_rect()
            self.rect.bottom = bottom
            self.rect.x = left


    def Mario_SetAnimationImage(self):
        &#34;&#34;&#34;
        This function adjusts Mario&#39;s image for his animation depending on what his state value is.
        &#34;&#34;&#34;
        if self.state == gGameSettings.GOOMBA_STATE_DEATH \
            or self.state == gGameSettings.MARIO_STATE_SMALL_TO_BIG \
            or self.state == gGameSettings.MARIO_STATE_BIG_TO_FIRE \
            or self.state == gGameSettings.MARIO_STATE_BIG_TO_SMALL \
            or self.state == gGameSettings.MARIO_STATE_ON_FLAGPOLE \
            or self.state == gGameSettings.FLAGSTATE_BOTTOM_OF_POLE \
            or self.crouching:
            pass
        elif self.facing_right:
            self.image = self.right_frames[self.frame_index]
        else:
            self.image = self.left_frames[self.frame_index]</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pygame.sprite.Sprite</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="data.components.mario.Mario.Gfx_LoadSpriteSheet"><code class="name flex">
<span>def <span class="ident">Gfx_LoadSpriteSheet</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function loads sprite images needed for Mario's animation. It uses arrays for each set of animations, and uses the
getImage function with parameters (x, y, width, height) to access coordinates of the sprite sheet to use as an animation frame.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Gfx_LoadSpriteSheet(self):

    &#34;&#34;&#34;
    This function loads sprite images needed for Mario&#39;s animation. It uses arrays for each set of animations, and uses the
    getImage function with parameters (x, y, width, height) to access coordinates of the sprite sheet to use as an animation frame.
    &#34;&#34;&#34;
    self.right_frames = []
    self.left_frames = []

    self.right_small_normal_frames = []
    self.left_small_normal_frames = []
    self.right_small_green_frames = []
    self.left_small_green_frames = []
    self.right_small_COLOR_RGB_RED_frames = []
    self.left_small_COLOR_RGB_RED_frames = []
    self.right_small_black_frames = []
    self.left_small_black_frames = []

    self.right_big_normal_frames = []
    self.left_big_normal_frames = []
    self.right_big_green_frames = []
    self.left_big_green_frames = []
    self.right_big_COLOR_RGB_RED_frames = []
    self.left_big_COLOR_RGB_RED_frames = []
    self.right_big_black_frames = []
    self.left_big_black_frames = []

    self.right_fire_frames = []
    self.left_fire_frames = []


    # Images for normal small mario #

    self.right_small_normal_frames.append(
        self.getImage(178, 32, 12, 16))  # Right [0]
    self.right_small_normal_frames.append(
        self.getImage(80,  32, 15, 16))  # Right walking 1 [1]
    self.right_small_normal_frames.append(
        self.getImage(96,  32, 16, 16))  # Right walking 2 [2]
    self.right_small_normal_frames.append(
        self.getImage(112,  32, 16, 16))  # Right walking 3 [3]
    self.right_small_normal_frames.append(
        self.getImage(144, 32, 16, 16))  # Right jump [4]
    self.right_small_normal_frames.append(
        self.getImage(130, 32, 14, 16))  # Right skid [5]
    self.right_small_normal_frames.append(
        self.getImage(160, 32, 15, 16))  # Death frame [6]
    self.right_small_normal_frames.append(
        self.getImage(320, 8, 16, 24))  # Transition small to big [7]
    self.right_small_normal_frames.append(
        self.getImage(241, 33, 16, 16))  # Transition big to small [8]
    self.right_small_normal_frames.append(
        self.getImage(194, 32, 12, 16))  # Frame 1 of flag pole Slide [9]
    self.right_small_normal_frames.append(
        self.getImage(210, 33, 12, 16))  # Frame 2 of flag pole slide [10]


    #Images for small green mario (for invincible animation)#

    self.right_small_green_frames.append(
        self.getImage(178, 224, 12, 16))  # Right standing [0]
    self.right_small_green_frames.append(
        self.getImage(80, 224, 15, 16))  # Right walking 1 [1]
    self.right_small_green_frames.append(
        self.getImage(96, 224, 16, 16))  # Right walking 2 [2]
    self.right_small_green_frames.append(
        self.getImage(112, 224, 15, 16))  # Right walking 3 [3]
    self.right_small_green_frames.append(
        self.getImage(144, 224, 16, 16))  # Right jump [4]
    self.right_small_green_frames.append(
        self.getImage(130, 224, 14, 16))  # Right skid [5]

    #Images for red mario (for invincible animation) #

    self.right_small_COLOR_RGB_RED_frames.append(
        self.getImage(178, 272, 12, 16))  # Right standing [0]
    self.right_small_COLOR_RGB_RED_frames.append(
        self.getImage(80, 272, 15, 16))  # Right walking 1 [1]
    self.right_small_COLOR_RGB_RED_frames.append(
        self.getImage(96, 272, 16, 16))  # Right walking 2 [2]
    self.right_small_COLOR_RGB_RED_frames.append(
        self.getImage(112, 272, 15, 16))  # Right walking 3 [3]
    self.right_small_COLOR_RGB_RED_frames.append(
        self.getImage(144, 272, 16, 16))  # Right jump [4]
    self.right_small_COLOR_RGB_RED_frames.append(
        self.getImage(130, 272, 14, 16))  # Right skid [5]

    #Images for black mario (for invincible animation) #

    self.right_small_black_frames.append(
        self.getImage(178, 176, 12, 16))  # Right standing [0]
    self.right_small_black_frames.append(
        self.getImage(80, 176, 15, 16))  # Right walking 1 [1]
    self.right_small_black_frames.append(
        self.getImage(96, 176, 16, 16))  # Right walking 2 [2]
    self.right_small_black_frames.append(
        self.getImage(112, 176, 15, 16))  # Right walking 3 [3]
    self.right_small_black_frames.append(
        self.getImage(144, 176, 16, 16))  # Right jump [4]
    self.right_small_black_frames.append(
        self.getImage(130, 176, 14, 16))  # Right skid [5]


    # Images for normal big Mario #

    self.right_big_normal_frames.append(
        self.getImage(176, 0, 16, 32))  # Right standing [0]
    self.right_big_normal_frames.append(
        self.getImage(81, 0, 16, 32))  # Right walking 1 [1]
    self.right_big_normal_frames.append(
        self.getImage(97, 0, 15, 32))  # Right walking 2 [2]
    self.right_big_normal_frames.append(
        self.getImage(113, 0, 15, 32))  # Right walking 3 [3]
    self.right_big_normal_frames.append(
        self.getImage(144, 0, 16, 32))  # Right jump [4]
    self.right_big_normal_frames.append(
        self.getImage(128, 0, 16, 32))  # Right skid [5]
    self.right_big_normal_frames.append(
        self.getImage(336, 0, 16, 32))  # Right throwing [6]
    self.right_big_normal_frames.append(
        self.getImage(160, 10, 16, 22))  # Right crouching [7]
    self.right_big_normal_frames.append(
        self.getImage(272, 2, 16, 29))  # Transition big to small [8]
    self.right_big_normal_frames.append(
        self.getImage(193, 2, 16, 30))  # Frame 1 of flag pole slide [9]
    self.right_big_normal_frames.append(
        self.getImage(209, 2, 16, 29))  # Frame 2 of flag pole slide [10]

    # Images for green  big Mario #

    self.right_big_green_frames.append(
        self.getImage(176, 192, 16, 32))  # Right standing [0]
    self.right_big_green_frames.append(
        self.getImage(81, 192, 16, 32))  # Right walking 1 [1]
    self.right_big_green_frames.append(
        self.getImage(97, 192, 15, 32))  # Right walking 2 [2]
    self.right_big_green_frames.append(
        self.getImage(113, 192, 15, 32))  # Right walking 3 [3]
    self.right_big_green_frames.append(
        self.getImage(144, 192, 16, 32))  # Right jump [4]
    self.right_big_green_frames.append(
        self.getImage(128, 192, 16, 32))  # Right skid [5]
    self.right_big_green_frames.append(
        self.getImage(336, 192, 16, 32))  # Right throwing [6]
    self.right_big_green_frames.append(
        self.getImage(160, 202, 16, 22))  # Right Crouching [7]

    # Images for red big Mario #

    self.right_big_COLOR_RGB_RED_frames.append(
        self.getImage(176, 240, 16, 32))  # Right standing [0]
    self.right_big_COLOR_RGB_RED_frames.append(
        self.getImage(81, 240, 16, 32))  # Right walking 1 [1]
    self.right_big_COLOR_RGB_RED_frames.append(
        self.getImage(97, 240, 15, 32))  # Right walking 2 [2]
    self.right_big_COLOR_RGB_RED_frames.append(
        self.getImage(113, 240, 15, 32))  # Right walking 3 [3]
    self.right_big_COLOR_RGB_RED_frames.append(
        self.getImage(144, 240, 16, 32))  # Right jump [4]
    self.right_big_COLOR_RGB_RED_frames.append(
        self.getImage(128, 240, 16, 32))  # Right skid [5]
    self.right_big_COLOR_RGB_RED_frames.append(
        self.getImage(336, 240, 16, 32))  # Right throwing [6]
    self.right_big_COLOR_RGB_RED_frames.append(
        self.getImage(160, 250, 16, 22))  # Right crouching [7]

    # Images for black big Mario #

    self.right_big_black_frames.append(
        self.getImage(176, 144, 16, 32))  # Right standing [0]
    self.right_big_black_frames.append(
        self.getImage(81, 144, 16, 32))  # Right walking 1 [1]
    self.right_big_black_frames.append(
        self.getImage(97, 144, 15, 32))  # Right walking 2 [2]
    self.right_big_black_frames.append(
        self.getImage(113, 144, 15, 32))  # Right walking 3 [3]
    self.right_big_black_frames.append(
        self.getImage(144, 144, 16, 32))  # Right jump [4]
    self.right_big_black_frames.append(
        self.getImage(128, 144, 16, 32))  # Right skid [5]
    self.right_big_black_frames.append(
        self.getImage(336, 144, 16, 32))  # Right throwing [6]
    self.right_big_black_frames.append(
        self.getImage(160, 154, 16, 22))  # Right Crouching [7]


    # Images for Fire Mario #

    self.right_fire_frames.append(
        self.getImage(176, 48, 16, 32))  # Right standing [0]
    self.right_fire_frames.append(
        self.getImage(81, 48, 16, 32))  # Right walking 1 [1]
    self.right_fire_frames.append(
        self.getImage(97, 48, 15, 32))  # Right walking 2 [2]
    self.right_fire_frames.append(
        self.getImage(113, 48, 15, 32))  # Right walking 3 [3]
    self.right_fire_frames.append(
        self.getImage(144, 48, 16, 32))  # Right jump [4]
    self.right_fire_frames.append(
        self.getImage(128, 48, 16, 32))  # Right skid [5]
    self.right_fire_frames.append(
        self.getImage(336, 48, 16, 32))  # Right throwing [6]
    self.right_fire_frames.append(
        self.getImage(160, 58, 16, 22))  # Right crouching [7]
    self.right_fire_frames.append(
        self.getImage(0, 0, 0, 0))  # Place holder [8]
    self.right_fire_frames.append(
        self.getImage(193, 50, 16, 29))  # Frame 1 of flag pole slide [9]
    self.right_fire_frames.append(
        self.getImage(209, 50, 16, 29))  # Frame 2 of flag pole slide [10]


    # The left image frames are numbered the same as the right frames but are simply reversed. #

    for frame in self.right_small_normal_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_small_normal_frames.append(new_image)

    for frame in self.right_small_green_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_small_green_frames.append(new_image)

    for frame in self.right_small_COLOR_RGB_RED_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_small_COLOR_RGB_RED_frames.append(new_image)

    for frame in self.right_small_black_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_small_black_frames.append(new_image)

    for frame in self.right_big_normal_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_big_normal_frames.append(new_image)

    for frame in self.right_big_green_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_big_green_frames.append(new_image)

    for frame in self.right_big_COLOR_RGB_RED_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_big_COLOR_RGB_RED_frames.append(new_image)

    for frame in self.right_big_black_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_big_black_frames.append(new_image)

    for frame in self.right_fire_frames:
        new_image = pygame.transform.flip(frame, True, False)
        self.left_fire_frames.append(new_image)


    self.normal_small_frames = [self.right_small_normal_frames,
                          self.left_small_normal_frames]

    self.green_small_frames = [self.right_small_green_frames,
                         self.left_small_green_frames]

    self.red_small_frames = [self.right_small_COLOR_RGB_RED_frames,
                       self.left_small_COLOR_RGB_RED_frames]

    self.black_small_frames = [self.right_small_black_frames,
                         self.left_small_black_frames]

    self.invincible_small_frames_list = [self.normal_small_frames,
                                      self.green_small_frames,
                                      self.red_small_frames,
                                      self.black_small_frames]

    self.normal_big_frames = [self.right_big_normal_frames,
                              self.left_big_normal_frames]

    self.green_big_frames = [self.right_big_green_frames,
                             self.left_big_green_frames]

    self.red_big_frames = [self.right_big_COLOR_RGB_RED_frames,
                           self.left_big_COLOR_RGB_RED_frames]

    self.black_big_frames = [self.right_big_black_frames,
                             self.left_big_black_frames]

    self.fire_frames = [self.right_fire_frames,
                        self.left_fire_frames]

    self.invincible_big_frames_list = [self.normal_big_frames,
                                       self.green_big_frames,
                                       self.red_big_frames,
                                       self.black_big_frames]

    self.all_images = [self.right_big_normal_frames,
                       self.right_big_black_frames,
                       self.right_big_COLOR_RGB_RED_frames,
                       self.right_big_green_frames,
                       self.right_small_normal_frames,
                       self.right_small_green_frames,
                       self.right_small_COLOR_RGB_RED_frames,
                       self.right_small_black_frames,
                       self.left_big_normal_frames,
                       self.left_big_black_frames,
                       self.left_big_COLOR_RGB_RED_frames,
                       self.left_big_green_frames,
                       self.left_small_normal_frames,
                       self.left_small_COLOR_RGB_RED_frames,
                       self.left_small_green_frames,
                       self.left_small_black_frames]


    self.right_frames = self.normal_small_frames[0]
    self.left_frames = self.normal_small_frames[1]</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.InitializeDeathJump"><code class="name flex">
<span>def <span class="ident">InitializeDeathJump</span></span>(<span>self, gGameInfo)</span>
</code></dt>
<dd>
<section class="desc"><p>This function sets Mario's velocity and initial parameters for his state when jumping down a bottomless pit.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>gGameInfo</code></strong></dt>
<dd>Global game variables</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def InitializeDeathJump(self, gGameInfo):
    &#34;&#34;&#34;
    This function sets Mario&#39;s velocity and initial parameters for his state when jumping down a bottomless pit.

    Parameters:
        gGameInfo: Global game variables
    &#34;&#34;&#34;
    self.dead = True
    gGameInfo[gGameSettings.MARIO_STATE_DEAD] = True
    self.y_vel = -11
    self.gravity = .5
    self.frame_index = 6
    self.image = self.right_frames[self.frame_index]
    self.state = gGameSettings.GOOMBA_STATE_DEATH
    self.in_transition_state = True</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_AdjustCollision"><code class="name flex">
<span>def <span class="ident">Mario_AdjustCollision</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function is used when Mario's size changes, in order to adjust his collision appropriately.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_AdjustCollision(self):
    &#34;&#34;&#34;
    This function is used when Mario&#39;s size changes, in order to adjust his collision appropriately.
    &#34;&#34;&#34;
    x = self.rect.x
    bottom = self.rect.bottom
    self.rect = self.image.get_rect()
    self.rect.x = x
    self.rect.bottom = bottom</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_BottomOfPole"><code class="name flex">
<span>def <span class="ident">Mario_BottomOfPole</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles the animation where Mario sits at the bottom of the flagpole before being brought to the castle.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_BottomOfPole(self):
    &#34;&#34;&#34;
    This function handles the animation where Mario sits at the bottom of the flagpole before being brought to the castle.
    &#34;&#34;&#34;
    if self.flag_pole_timer == 0:
        self.flag_pole_timer = self.current_time
        self.image = self.left_frames[10]
    elif (self.current_time - self.flag_pole_timer) &lt; 210:
        self.image = self.left_frames[10]
    else:
        self.in_transition_state = False
        if self.rect.bottom &lt; 485:
            self.state = gGameSettings.MARIO_STATE_END_OF_LEVEL
        else:
            self.state = gGameSettings.MARIO_STATE_WALKING_TO_CASTLE</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_BottomOfPoleState"><code class="name flex">
<span>def <span class="ident">Mario_BottomOfPoleState</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles the gamestate and animation for when Mario is sitting at the bottom of the flagpole at the end of a level.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_BottomOfPoleState(self):
    &#34;&#34;&#34;
    This function handles the gamestate and animation for when Mario is sitting at the bottom of the flagpole at the end of a level.
    &#34;&#34;&#34;
    self.image = self.left_frames[9]
    right = self.rect.right
    #self.rect.bottom = 493
    self.rect.x = right
    if self.big:
        self.rect.x -= 10
    self.flag_pole_timer = 0
    self.state = gGameSettings.FLAGSTATE_BOTTOM_OF_POLE</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_ChangeFrameList"><code class="name flex">
<span>def <span class="ident">Mario_ChangeFrameList</span></span>(<span>self, frame_switch_speed)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_ChangeFrameList(self, frame_switch_speed):
    if (self.current_time - self.invincible_animation_timer) &gt; frame_switch_speed:
        if self.invincible_index &lt; (len(self.invincible_small_frames_list) - 1):
            self.invincible_index += 1
        else:
            self.invincible_index = 0

        if self.big:
            frames = self.invincible_big_frames_list[self.invincible_index]
        else:
            frames = self.invincible_small_frames_list[self.invincible_index]

        self.right_frames = frames[0]
        self.left_frames = frames[1]

        self.invincible_animation_timer = self.current_time</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_ChangeToBig"><code class="name flex">
<span>def <span class="ident">Mario_ChangeToBig</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles the transition period between when Mario is small to when he changes to big.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_ChangeToBig(self):
    &#34;&#34;&#34;
    This function handles the transition period between when Mario is small to when he changes to big. 
    &#34;&#34;&#34;
    self.big = True
    self.right_frames = self.right_big_normal_frames
    self.left_frames = self.left_big_normal_frames
    bottom = self.rect.bottom
    left = self.rect.x
    image = self.right_frames[0]
    self.rect = image.get_rect()
    self.rect.bottom = bottom
    self.rect.x = left</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_ChangeToFire"><code class="name flex">
<span>def <span class="ident">Mario_ChangeToFire</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles the transition period when Mario is big and changing to fire flower Mario.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_ChangeToFire(self):
    &#34;&#34;&#34;
    This function handles the transition period when Mario is big and changing to fire flower Mario.
    &#34;&#34;&#34;
    self.in_transition_state = True

    if self.facing_right:
        frames = [self.right_fire_frames[3],
                  self.right_big_green_frames[3],
                  self.right_big_COLOR_RGB_RED_frames[3],
                  self.right_big_black_frames[3]]
    else:
        frames = [self.left_fire_frames[3],
                  self.left_big_green_frames[3],
                  self.left_big_COLOR_RGB_RED_frames[3],
                  self.left_big_black_frames[3]]

    if self.fire_transition_timer == 0:
        self.fire_transition_timer = self.current_time
    elif (self.current_time - self.fire_transition_timer) &gt; 65 and (self.current_time - self.fire_transition_timer) &lt; 130:
        self.image = frames[0]
    elif (self.current_time - self.fire_transition_timer) &lt; 195:
        self.image = frames[1]
    elif (self.current_time - self.fire_transition_timer) &lt; 260:
        self.image = frames[2]
    elif (self.current_time - self.fire_transition_timer) &lt; 325:
        self.image = frames[3]
    elif (self.current_time - self.fire_transition_timer) &lt; 390:
        self.image = frames[0]
    elif (self.current_time - self.fire_transition_timer) &lt; 455:
        self.image = frames[1]
    elif (self.current_time - self.fire_transition_timer) &lt; 520:
        self.image = frames[2]
    elif (self.current_time - self.fire_transition_timer) &lt; 585:
        self.image = frames[3]
    elif (self.current_time - self.fire_transition_timer) &lt; 650:
        self.image = frames[0]
    elif (self.current_time - self.fire_transition_timer) &lt; 715:
        self.image = frames[1]
    elif (self.current_time - self.fire_transition_timer) &lt; 780:
        self.image = frames[2]
    elif (self.current_time - self.fire_transition_timer) &lt; 845:
        self.image = frames[3]
    elif (self.current_time - self.fire_transition_timer) &lt; 910:
        self.image = frames[0]
    elif (self.current_time - self.fire_transition_timer) &lt; 975:
        self.image = frames[1]
    elif (self.current_time - self.fire_transition_timer) &lt; 1040:
        self.image = frames[2]
        self.fire = True
        self.in_transition_state = False
        self.state = gGameSettings.MARIO_STATE_WALK
        self.transition_timer = 0</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_ChangeToSmall"><code class="name flex">
<span>def <span class="ident">Mario_ChangeToSmall</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles the transition period when Mario changes to small mario after being hit.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_ChangeToSmall(self):
    &#34;&#34;&#34;
    This function handles the transition period when Mario changes to small mario after being hit. 
    &#34;&#34;&#34;
    self.big = False
    self.right_frames = self.right_small_normal_frames
    self.left_frames = self.left_small_normal_frames
    bottom = self.rect.bottom
    left = self.rect.x
    image = self.right_frames[0]
    self.rect = image.get_rect()
    self.rect.bottom = bottom
    self.rect.x = left</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_ChangingToBig"><code class="name flex">
<span>def <span class="ident">Mario_ChangingToBig</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles Mario's animation and transition when transitioning to big Mario after eating a mushroom.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_ChangingToBig(self):
    &#34;&#34;&#34;
    This function handles Mario&#39;s animation and transition when transitioning to big Mario after eating a mushroom.
    &#34;&#34;&#34;
    self.in_transition_state = True

    if self.transition_timer == 0:
        self.transition_timer = self.current_time
    elif self.Math_Time_Diff(135, 200):
        self.Mario_SetMiddleTransitionAnimation()
    elif self.Math_Time_Diff(200, 365):
        self.Mario_SetSmallTransitionAnimation()
    elif self.Math_Time_Diff(365, 430):
        self.Mario_SetMiddleTransitionAnimation()
    elif self.Math_Time_Diff(430, 495):
        self.Mario_SetSmallTransitionAnimation()
    elif self.Math_Time_Diff(495, 560):
        self.Mario_SetMiddleTransitionAnimation()
    elif self.Math_Time_Diff(560, 625):
        self.Mario_SetBigTransitionAnimation()
    elif self.Math_Time_Diff(625, 690):
        self.Mario_SetSmallTransitionAnimation()
    elif self.Math_Time_Diff(690, 755):
        self.Mario_SetMiddleTransitionAnimation()
    elif self.Math_Time_Diff(755, 820):
        self.Mario_SetBigTransitionAnimation()
    elif self.Math_Time_Diff(820, 885):
        self.Mario_SetSmallTransitionAnimation()
    elif self.Math_Time_Diff(885, 950):
        self.Mario_SetBigTransitionAnimation()
        self.state = gGameSettings.MARIO_STATE_WALK
        self.in_transition_state = False
        self.transition_timer = 0
        self.Mario_ChangeToBig()</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_ChangingToSmall"><code class="name flex">
<span>def <span class="ident">Mario_ChangingToSmall</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles Mario's animation and transition when transitioning to small Mario after getting hit by an enemy or dying.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_ChangingToSmall(self):
    &#34;&#34;&#34;
    This function handles Mario&#39;s animation and transition when transitioning to small Mario after getting hit by an enemy or dying.
    &#34;&#34;&#34;
    self.in_transition_state = True
    self.hurt_invincible = True
    self.state = gGameSettings.MARIO_STATE_BIG_TO_SMALL

    if self.facing_right:
        frames = [self.right_big_normal_frames[4],
                  self.right_big_normal_frames[8],
                  self.right_small_normal_frames[8]
                  ]
    else:
        frames = [self.left_big_normal_frames[4],
                  self.left_big_normal_frames[8],
                  self.left_small_normal_frames[8]
                 ]

    if self.transition_timer == 0:
        self.transition_timer = self.current_time
    elif (self.current_time - self.transition_timer) &lt; 265:
        self.image = frames[0]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 330:
        self.image = frames[1]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 395:
        self.image = frames[2]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 460:
        self.image = frames[1]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 525:
        self.image = frames[2]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 590:
        self.image = frames[1]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 655:
        self.image = frames[2]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 720:
        self.image = frames[1]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 785:
        self.image = frames[2]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 850:
        self.image = frames[1]
        self.Mario_SetInvincibility()
        self.Mario_AdjustCollision()
    elif (self.current_time - self.transition_timer) &lt; 915:
        self.image = frames[2]
        self.Mario_AdjustCollision()
        self.in_transition_state = False
        self.state = gGameSettings.MARIO_STATE_WALK
        self.big = False
        self.transition_timer = 0
        self.hurt_invisible_timer = 0
        self.Mario_ChangeToSmall()</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_CheckIfFire"><code class="name flex">
<span>def <span class="ident">Mario_CheckIfFire</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_CheckIfFire(self):
    if self.fire and self.invincible == False:
        self.right_frames = self.fire_frames[0]
        self.left_frames = self.fire_frames[1]</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_CheckIfInvicible"><code class="name flex">
<span>def <span class="ident">Mario_CheckIfInvicible</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function checks if Mario is invincible. If he is, then set his losing_invincibility value to True and start a frame countdown.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_CheckIfInvicible(self):
    &#34;&#34;&#34;
    This function checks if Mario is invincible. If he is, then set his losing_invincibility value to True and start a frame countdown.
    &#34;&#34;&#34;
    if self.invincible:
        if ((self.current_time - self.invincible_start_timer) &lt; 10000):
            self.losing_invincibility = False
            self.Mario_ChangeFrameList(30)
        elif ((self.current_time - self.invincible_start_timer) &lt; 12000):
            self.losing_invincibility = True
            self.Mario_ChangeFrameList(100)
        else:
            self.losing_invincibility = False
            self.invincible = False
    else:
        if self.big:
            self.right_frames = self.right_big_normal_frames
            self.left_frames = self.left_big_normal_frames
        else:
            self.right_frames = self.invincible_small_frames_list[0][0]
            self.left_frames = self.invincible_small_frames_list[0][1]</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_CrouchCheck"><code class="name flex">
<span>def <span class="ident">Mario_CrouchCheck</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function checks if Mario is crouching. If he is, set animation to crouch and change collision.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_CrouchCheck(self):
    &#34;&#34;&#34;
    This function checks if Mario is crouching. If he is, set animation to crouch and change collision.
    &#34;&#34;&#34;
    if self.crouching and self.big:
        bottom = self.rect.bottom
        left = self.rect.x
        if self.facing_right:
            self.image = self.right_frames[7]
        else:
            self.image = self.left_frames[7]
        self.rect = self.image.get_rect()
        self.rect.bottom = bottom
        self.rect.x = left</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_ExitCrouch"><code class="name flex">
<span>def <span class="ident">Mario_ExitCrouch</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function changes Mario's collision box from crouch to leaving crouch.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_ExitCrouch(self):
    &#34;&#34;&#34;
    This function changes Mario&#39;s collision box from crouch to leaving crouch.
    &#34;&#34;&#34;
    bottom = self.rect.bottom
    left = self.rect.x
    if self.facing_right:
        self.image = self.right_frames[0]
    else:
        self.image = self.left_frames[0]
    self.rect = self.image.get_rect()
    self.rect.bottom = bottom
    self.rect.x = left
    self.crouching = False</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_FallAtEnd"><code class="name flex">
<span>def <span class="ident">Mario_FallAtEnd</span></span>(<span>self, *args)</span>
</code></dt>
<dd>
<section class="desc"><p>This function sets Mario's y velocity to the gravity of the world in order to send the player flying and give the player a game over, thus restarting the level.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_FallAtEnd(self, *args):
    &#34;&#34;&#34;
    This function sets Mario&#39;s y velocity to the gravity of the world in order to send the player flying and give the player a game over, thus restarting the level.
    &#34;&#34;&#34;
    self.y_vel += gGameSettings.WORLD_GRAVITY</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_Falling"><code class="name flex">
<span>def <span class="ident">Mario_Falling</span></span>(<span>self, keys, fire_group)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles Mario's falling state.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong></dt>
<dd>Dictionary key for Mario's state.</dd>
<dt><strong><code>fire_group</code></strong></dt>
<dd>Check for fire mario.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_Falling(self, keys, fire_group):
    &#34;&#34;&#34;
    This function handles Mario&#39;s falling state.

    Parameters:
        keys: Dictionary key for Mario&#39;s state.
        fire_group: Check for fire mario.
    &#34;&#34;&#34;
    self.Mario_FireballCheck(keys)
    if self.y_vel &lt; gGameSettings.MARIO_MAX_Y_VELOCITY:
        self.y_vel += self.gravity

    if keys[tools.keybinding[&#39;left&#39;]]:
        if self.x_vel &gt; (self.max_x_vel * - 1):
            self.x_vel -= self.x_accel

    elif keys[tools.keybinding[&#39;right&#39;]]:
        if self.x_vel &lt; self.max_x_vel:
            self.x_vel += self.x_accel

    if keys[tools.keybinding[&#39;action&#39;]]:
        if self.fire and self.allow_fireball:
            self.Mario_ShootFireball(fire_group)</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_FireballCheck"><code class="name flex">
<span>def <span class="ident">Mario_FireballCheck</span></span>(<span>self, keys)</span>
</code></dt>
<dd>
<section class="desc"><p>This function checks if Mario is allowed to use a fireball.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong></dt>
<dd>Dictionary key for Mario's state.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_FireballCheck(self, keys):
    &#34;&#34;&#34;
    This function checks if Mario is allowed to use a fireball.

    Parameters:
        keys: Dictionary key for Mario&#39;s state.
    
    &#34;&#34;&#34;
    if not keys[tools.keybinding[&#39;action&#39;]]:
        self.allow_fireball = True</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_FireballCount"><code class="name flex">
<span>def <span class="ident">Mario_FireballCount</span></span>(<span>self, powerups)</span>
</code></dt>
<dd>
<section class="desc"><p>This function counts the number of fireballs in the fireball array at a time.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>powerups</code></strong></dt>
<dd>Array of fireball powerups. Used to prevent too many fireballs from being loaded on screen at once.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Length</code> of <code>fireball_list</code></dt>
<dd>&nbsp;</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_FireballCount(self, powerups):
    &#34;&#34;&#34;
    This function counts the number of fireballs in the fireball array at a time.

    Parameters:
        powerups: Array of fireball powerups. Used to prevent too many fireballs from being loaded on screen at once.
    
    Returns:
        Length of fireball_list
    &#34;&#34;&#34;
    fireball_list = []

    for powerup in powerups:
        if powerup.name == gGameSettings.BRICK_CONTENTS_FIREBALL:
            fireball_list.append(powerup)

    return len(fireball_list)</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_InvincibilityHurtCheck"><code class="name flex">
<span>def <span class="ident">Mario_InvincibilityHurtCheck</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function checks if Mario is hurt during the cooldown period after getting hit.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_InvincibilityHurtCheck(self):
    &#34;&#34;&#34;
    This function checks if Mario is hurt during the cooldown period after getting hit.
    &#34;&#34;&#34;
    if self.hurt_invincible and self.state != gGameSettings.MARIO_STATE_BIG_TO_SMALL:
        if self.hurt_invisible_timer2 == 0:
            self.hurt_invisible_timer2 = self.current_time
        elif (self.current_time - self.hurt_invisible_timer2) &lt; 2000:
            self.Mario_SetInvincibility()
        else:
            self.hurt_invincible = False
            self.hurt_invisible_timer = 0
            self.hurt_invisible_timer2 = 0
            for frames in self.all_images:
                for image in frames:
                    image.set_alpha(255)</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_JumpCheck"><code class="name flex">
<span>def <span class="ident">Mario_JumpCheck</span></span>(<span>self, keys)</span>
</code></dt>
<dd>
<section class="desc"><p>This function checks if Mario is allowed to jump. It prevents double jumps.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong></dt>
<dd>Dictionary key for Mario's state.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_JumpCheck(self, keys):
    &#34;&#34;&#34;
    This function checks if Mario is allowed to jump. It prevents double jumps.

    Parameters:
        keys: Dictionary key for Mario&#39;s state.
    &#34;&#34;&#34;
    if not keys[tools.keybinding[&#39;jump&#39;]]:
        self.allow_jump = True</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_JumpToDeath"><code class="name flex">
<span>def <span class="ident">Mario_JumpToDeath</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles Mario's death jump state.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_JumpToDeath(self):
    &#34;&#34;&#34;
    This function handles Mario&#39;s death jump state.
    &#34;&#34;&#34;
    if self.death_timer == 0:
        self.death_timer = self.current_time
    elif (self.current_time - self.death_timer) &gt; 500:
        self.rect.y += self.y_vel
        self.y_vel += self.gravity</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_Jumping"><code class="name flex">
<span>def <span class="ident">Mario_Jumping</span></span>(<span>self, keys, fire_group)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles Mario's jumping state.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong></dt>
<dd>Dictionary key for Mario's state.</dd>
<dt><strong><code>fire_group</code></strong></dt>
<dd>Check for fire mario.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_Jumping(self, keys, fire_group):
    &#34;&#34;&#34;
    This function handles Mario&#39;s jumping state.

    Parameters:
        keys: Dictionary key for Mario&#39;s state.
        fire_group: Check for fire mario.
    &#34;&#34;&#34;
    self.allow_jump = False
    self.frame_index = 4
    self.gravity = gGameSettings.MARIO_JUMP_GRAVITY
    self.y_vel += self.gravity
    self.Mario_FireballCheck(keys)

    if self.y_vel &gt;= 0 and self.y_vel &lt; self.max_y_vel:
        self.gravity = gGameSettings.WORLD_GRAVITY
        self.state = gGameSettings.MARIO_STATE_FALL

    if keys[tools.keybinding[&#39;left&#39;]]:
        if self.x_vel &gt; (self.max_x_vel * - 1):
            self.x_vel -= self.x_accel

    elif keys[tools.keybinding[&#39;right&#39;]]:
        if self.x_vel &lt; self.max_x_vel:
            self.x_vel += self.x_accel

    if not keys[tools.keybinding[&#39;jump&#39;]]:
        self.gravity = gGameSettings.WORLD_GRAVITY
        self.state = gGameSettings.MARIO_STATE_FALL

    if keys[tools.keybinding[&#39;action&#39;]]:
        if self.fire and self.allow_fireball:
            self.Mario_ShootFireball(fire_group)</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_Math_CalcAnimationSpeed"><code class="name flex">
<span>def <span class="ident">Mario_Math_CalcAnimationSpeed</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Calculates Mario's current Animation Speed</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>animation_speed</code></strong></dt>
<dd>current animation speed</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_Math_CalcAnimationSpeed(self):
    &#34;&#34;&#34;
    Calculates Mario&#39;s current Animation Speed

    Returns:
        animation_speed: current animation speed
    &#34;&#34;&#34;
    if self.x_vel == 0:
        animation_speed = 130
    elif self.x_vel &gt; 0:
        animation_speed = 130 - (self.x_vel * (13))
    else:
        animation_speed = 130 - (self.x_vel * (13) * -1)

    return animation_speed</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_PoleSlide"><code class="name flex">
<span>def <span class="ident">Mario_PoleSlide</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles the game state in which Mario slide down the flagpole at the end of the level.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_PoleSlide(self):
    &#34;&#34;&#34;
    This function handles the game state in which Mario slide down the flagpole at the end of the level.
    &#34;&#34;&#34;
    self.state = gGameSettings.MARIO_STATE_ON_FLAGPOLE
    self.in_transition_state = True
    self.x_vel = 0
    self.y_vel = 0

    if self.flag_pole_timer == 0:
        self.flag_pole_timer = self.current_time
    elif self.rect.bottom &lt; 493:
        if (self.current_time - self.flag_pole_timer) &lt; 65:
            self.image = self.right_frames[9]
        elif (self.current_time - self.flag_pole_timer) &lt; 130:
            self.image = self.right_frames[10]
        elif (self.current_time - self.flag_pole_timer) &gt;= 130:
            self.flag_pole_timer = self.current_time

        self.rect.right = self.flag_pole_right
        self.y_vel = 5
        self.rect.y += self.y_vel

        if self.rect.bottom &gt;= 488:
            self.flag_pole_timer = self.current_time

    elif self.rect.bottom &gt;= 493:
        self.image = self.right_frames[10]</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_SetAnimationImage"><code class="name flex">
<span>def <span class="ident">Mario_SetAnimationImage</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function adjusts Mario's image for his animation depending on what his state value is.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_SetAnimationImage(self):
    &#34;&#34;&#34;
    This function adjusts Mario&#39;s image for his animation depending on what his state value is.
    &#34;&#34;&#34;
    if self.state == gGameSettings.GOOMBA_STATE_DEATH \
        or self.state == gGameSettings.MARIO_STATE_SMALL_TO_BIG \
        or self.state == gGameSettings.MARIO_STATE_BIG_TO_FIRE \
        or self.state == gGameSettings.MARIO_STATE_BIG_TO_SMALL \
        or self.state == gGameSettings.MARIO_STATE_ON_FLAGPOLE \
        or self.state == gGameSettings.FLAGSTATE_BOTTOM_OF_POLE \
        or self.crouching:
        pass
    elif self.facing_right:
        self.image = self.right_frames[self.frame_index]
    else:
        self.image = self.left_frames[self.frame_index]</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_SetBigTransitionAnimation"><code class="name flex">
<span>def <span class="ident">Mario_SetBigTransitionAnimation</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Sets Mario's animation image to the big image during a transition</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_SetBigTransitionAnimation(self):
    &#34;&#34;&#34;
    Sets Mario&#39;s animation image to the big image during a transition
    &#34;&#34;&#34;
    if self.facing_right:
        self.image = self.normal_big_frames[0][0]
    else:
        self.image = self.normal_big_frames[1][0]
    bottom = self.rect.bottom
    centerx = self.rect.centerx
    self.rect = self.image.get_rect()
    self.rect.bottom = bottom
    self.rect.centerx = centerx</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_SetInvincibility"><code class="name flex">
<span>def <span class="ident">Mario_SetInvincibility</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function makes mario invicible on a certain time interval after getting hit by an enemy.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_SetInvincibility(self):
    &#34;&#34;&#34;
    This function makes mario invicible on a certain time interval after getting hit by an enemy.
    &#34;&#34;&#34;
    if self.hurt_invisible_timer == 0:
        self.hurt_invisible_timer = self.current_time
    elif (self.current_time - self.hurt_invisible_timer) &lt; 35:
        self.image.set_alpha(0)
    elif (self.current_time - self.hurt_invisible_timer) &lt; 70:
        self.image.set_alpha(255)
        self.hurt_invisible_timer = self.current_time</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_SetMiddleTransitionAnimation"><code class="name flex">
<span>def <span class="ident">Mario_SetMiddleTransitionAnimation</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Sets Mario's animation image to the middle image during a transition.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_SetMiddleTransitionAnimation(self):
    &#34;&#34;&#34;
    Sets Mario&#39;s animation image to the middle image during a transition.
    &#34;&#34;&#34;
    if self.facing_right:
        self.image = self.normal_small_frames[0][7]
    else:
        self.image = self.normal_small_frames[1][7]
    bottom = self.rect.bottom
    centerx = self.rect.centerx
    self.rect = self.image.get_rect()
    self.rect.bottom = bottom
    self.rect.centerx = centerx</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_SetSmallTransitionAnimation"><code class="name flex">
<span>def <span class="ident">Mario_SetSmallTransitionAnimation</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Sets Mario's animation image to the small image during a transition.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_SetSmallTransitionAnimation(self):
    &#34;&#34;&#34;
    Sets Mario&#39;s animation image to the small image during a transition.
    &#34;&#34;&#34;
    if self.facing_right:
        self.image = self.normal_small_frames[0][0]
    else:
        self.image = self.normal_small_frames[1][0]
    bottom = self.rect.bottom
    centerx = self.rect.centerx
    self.rect = self.image.get_rect()
    self.rect.bottom = bottom
    self.rect.centerx = centerx</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_ShootFireball"><code class="name flex">
<span>def <span class="ident">Mario_ShootFireball</span></span>(<span>self, powerups)</span>
</code></dt>
<dd>
<section class="desc"><p>This function shoots a fireball from Mario's hand.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>powerups</code></strong></dt>
<dd>Empty array that will be filled with fireball powerups. Used to prevent too many from being loaded on screen at once.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_ShootFireball(self, powerups):
    &#34;&#34;&#34;
    This function shoots a fireball from Mario&#39;s hand.
    
    Parameters:
        powerups: Empty array that will be filled with fireball powerups. Used to prevent too many from being loaded on screen at once.
    &#34;&#34;&#34;
    setup.SFX[&#39;fireball&#39;].play()
    self.fireball_count = self.Mario_FireballCount(powerups)

    if (self.current_time - self.last_fireball_time) &gt; 200:
        if self.fireball_count &lt; 2:
            self.allow_fireball = False
            powerups.add(
                powerups.FireBall(self.rect.right, self.rect.y, self.facing_right))
            self.last_fireball_time = self.current_time

            self.frame_index = 6
            if self.facing_right:
                self.image = self.right_frames[self.frame_index]
            else:
                self.image = self.left_frames[self.frame_index]</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_Standing"><code class="name flex">
<span>def <span class="ident">Mario_Standing</span></span>(<span>self, keys, fire_group)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles Mario's "Standing" state</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong></dt>
<dd>Dictionary key for Mario's state</dd>
<dt><strong><code>fire_group</code></strong></dt>
<dd>Check for fire mario</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_Standing(self, keys, fire_group):
    &#34;&#34;&#34;
    This function handles Mario&#39;s &#34;Standing&#34; state

    Parameters:
        keys: Dictionary key for Mario&#39;s state
        fire_group: Check for fire mario
    &#34;&#34;&#34;
    self.Mario_JumpCheck(keys)
    self.Mario_FireballCheck(keys)

    self.frame_index = 0
    self.x_vel = 0
    self.y_vel = 0

    if keys[tools.keybinding[&#39;action&#39;]]:
        if self.fire and self.allow_fireball:
            self.Mario_ShootFireball(fire_group)

    if keys[tools.keybinding[&#39;down&#39;]]:
        self.crouching = True

    if keys[tools.keybinding[&#39;left&#39;]]:
        self.facing_right = False
        self.Mario_ExitCrouch()
        self.state = gGameSettings.MARIO_STATE_WALK
    elif keys[tools.keybinding[&#39;right&#39;]]:
        self.facing_right = True
        self.Mario_ExitCrouch()
        self.state = gGameSettings.MARIO_STATE_WALK
    elif keys[tools.keybinding[&#39;jump&#39;]]:
        if self.allow_jump:
            if self.big:
                setup.SFX[&#39;big_jump&#39;].play()
            else:
                setup.SFX[&#39;small_jump&#39;].play()
            self.state = gGameSettings.MARIO_STATE_JUMP
            self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY
    else:
        self.state = gGameSettings.MARIO_STATE_STANDING

    if not keys[tools.keybinding[&#39;down&#39;]]:
        self.Mario_ExitCrouch()</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_StateCheckSpecial"><code class="name flex">
<span>def <span class="ident">Mario_StateCheckSpecial</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function checks if Mario's state is one of the four "special" states.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_StateCheckSpecial(self):
    &#34;&#34;&#34;
    This function checks if Mario&#39;s state is one of the four &#34;special&#34; states.
    &#34;&#34;&#34;
    self.Mario_CheckIfInvicible()
    self.Mario_CheckIfFire()
    self.Mario_InvincibilityHurtCheck()
    self.Mario_CrouchCheck()</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_Walking"><code class="name flex">
<span>def <span class="ident">Mario_Walking</span></span>(<span>self, keys, fire_group)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles Mario's "Walking" state.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong></dt>
<dd>Dictionary key for Mario's state.</dd>
<dt><strong><code>fire_group</code></strong></dt>
<dd>Check for fire mario.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_Walking(self, keys, fire_group):
    &#34;&#34;&#34;
    This function handles Mario&#39;s &#34;Walking&#34; state.

    Parameters:
        keys: Dictionary key for Mario&#39;s state.
        fire_group: Check for fire mario.
    &#34;&#34;&#34;
    self.Mario_JumpCheck(keys)
    self.Mario_FireballCheck(keys)

    if self.frame_index == 0:
        self.frame_index += 1
        self.walking_timer = self.current_time
    else:
        if (self.current_time - self.walking_timer &gt;
                self.Mario_Math_CalcAnimationSpeed()):
            if self.frame_index &lt; 3:
                self.frame_index += 1
            else:
                self.frame_index = 1

            self.walking_timer = self.current_time

    if keys[tools.keybinding[&#39;action&#39;]]:
        self.max_x_vel = gGameSettings.MARIO_MAX_RUN_SPEED
        self.x_accel = gGameSettings.MARIO_RUN_ACCELERATION
        if self.fire and self.allow_fireball:
            self.Mario_ShootFireball(fire_group)
    else:
        self.max_x_vel = gGameSettings.MARIO_MAX_WALK_SPEED
        self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

    if keys[tools.keybinding[&#39;jump&#39;]]:
        if self.allow_jump:
            if self.big:
                setup.SFX[&#39;big_jump&#39;].play()
            else:
                setup.SFX[&#39;small_jump&#39;].play()
            self.state = gGameSettings.MARIO_STATE_JUMP
            if self.x_vel &gt; 4.5 or self.x_vel &lt; -4.5:
                self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY - .5
            else:
                self.y_vel = gGameSettings.MARIO_JUMP_VELOCITY


    if keys[tools.keybinding[&#39;left&#39;]]:
        self.Mario_ExitCrouch()
        self.facing_right = False
        if self.x_vel &gt; 0:
            self.frame_index = 5
            self.x_accel = gGameSettings.MARIO_SMALL_TURNAROUND_SPEED
        else:
            self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

        if self.x_vel &gt; (self.max_x_vel * -1):
            self.x_vel -= self.x_accel
            if self.x_vel &gt; -0.5:
                self.x_vel = -0.5
        elif self.x_vel &lt; (self.max_x_vel * -1):
            self.x_vel += self.x_accel

    elif keys[tools.keybinding[&#39;right&#39;]]:
        self.Mario_ExitCrouch()
        self.facing_right = True
        if self.x_vel &lt; 0:
            self.frame_index = 5
            self.x_accel = gGameSettings.MARIO_SMALL_TURNAROUND_SPEED
        else:
            self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

        if self.x_vel &lt; self.max_x_vel:
            self.x_vel += self.x_accel
            if self.x_vel &lt; 0.5:
                self.x_vel = 0.5
        elif self.x_vel &gt; self.max_x_vel:
            self.x_vel -= self.x_accel

    else:
        if self.facing_right:
            if self.x_vel &gt; 0:
                self.x_vel -= self.x_accel
            else:
                self.x_vel = 0
                self.state = gGameSettings.MARIO_STATE_STANDING
        else:
            if self.x_vel &lt; 0:
                self.x_vel += self.x_accel
            else:
                self.x_vel = 0
                self.state = gGameSettings.MARIO_STATE_STANDING</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Mario_WalkingToCastle"><code class="name flex">
<span>def <span class="ident">Mario_WalkingToCastle</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles the gamestate and animation for when Mario walks to the castle at the end of a level.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Mario_WalkingToCastle(self):
    &#34;&#34;&#34;
    This function handles the gamestate and animation for when Mario walks to the castle at the end of a level.
    &#34;&#34;&#34;
    self.max_x_vel = 5
    self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION

    if self.x_vel &lt; self.max_x_vel:
        self.x_vel += self.x_accel

    if (self.walking_timer == 0 or (self.current_time - self.walking_timer) &gt; 200):
        self.walking_timer = self.current_time

    elif (self.current_time - self.walking_timer) &gt; \
            self.Mario_Math_CalcAnimationSpeed():
        if self.frame_index &lt; 3:
            self.frame_index += 1
        else:
            self.frame_index = 1
        self.walking_timer = self.current_time</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.Math_Time_Diff"><code class="name flex">
<span>def <span class="ident">Math_Time_Diff</span></span>(<span>self, start_time, end_time)</span>
</code></dt>
<dd>
<section class="desc"><p>This function returns the difference between two transition times.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>True</code> <code>if</code> (<code>self.current_time</code> - <code>self.transition_timer</code>) &gt;= <code>start_time</code> <code>and</code> (<code>self.current_time</code> - <code>self.transition_timer</code>) &lt; <code>end_time</code></dt>
<dd>&nbsp;</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Math_Time_Diff(self, start_time, end_time):
    &#34;&#34;&#34;
    This function returns the difference between two transition times.

    Returns:
        True if (self.current_time - self.transition_timer) &gt;= start_time and (self.current_time - self.transition_timer) &lt; end_time
    &#34;&#34;&#34;
    if (self.current_time - self.transition_timer) &gt;= start_time\
        and (self.current_time - self.transition_timer) &lt; end_time:
        return True</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.counterSetup"><code class="name flex">
<span>def <span class="ident">counterSetup</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function sets all of Mario's internal counters to zero, clearing any previous values that they may have had.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def counterSetup(self):
    &#34;&#34;&#34;
    This function sets all of Mario&#39;s internal counters to zero, clearing any previous values that they may have had.
    &#34;&#34;&#34;
    self.frame_index = 0
    self.invincible_index = 0
    self.fire_transition_index = 0
    self.fireball_count = 0
    self.flag_pole_right = 0</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.getImage"><code class="name flex">
<span>def <span class="ident">getImage</span></span>(<span>self, x, y, width, height)</span>
</code></dt>
<dd>
<section class="desc"><p>This functiion gets the surface, and then copies the spritesheet using the parameters given in order to return the correct
sprite for Mario's animation.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>x</code></strong> :&ensp;<code>int</code></dt>
<dd>X coordinate of sprite in sheet</dd>
<dt><strong><code>y</code></strong> :&ensp;<code>int</code></dt>
<dd>Y coordinate of sprite in sheet</dd>
<dt><strong><code>width</code></strong> :&ensp;<code>int</code></dt>
<dd>Width of sprite in sheet</dd>
<dt><strong><code>height</code></strong> :&ensp;<code>int</code></dt>
<dd>Height of sprite in sheet</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Returns</code> <code>the</code> <code>image</code></dt>
<dd>&nbsp;</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getImage(self, x, y, width, height):
    &#34;&#34;&#34;
    This functiion gets the surface, and then copies the spritesheet using the parameters given in order to return the correct
    sprite for Mario&#39;s animation.

    Parameters:
        x (int): X coordinate of sprite in sheet
        y (int): Y coordinate of sprite in sheet
        width (int): Width of sprite in sheet
        height (int): Height of sprite in sheet
    
    Returns:
        Returns the image
    &#34;&#34;&#34;
    image = pygame.Surface([width, height])
    rect = image.get_rect()

    image.blit(self.spr_sheet, (0, 0), (x, y, width, height))
    image.set_colorkey(gGameSettings.COLOR_RGB_BLACK)
    image = pygame.transform.scale(image,
                               (int(rect.width*gGameSettings.SIZE_MULTIPLIER),
                                int(rect.height*gGameSettings.SIZE_MULTIPLIER)))
    return image</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.setup_forces"><code class="name flex">
<span>def <span class="ident">setup_forces</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function sets all forces that will be acting on Mario when he is spawned into the game.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setup_forces(self):
    &#34;&#34;&#34;
    This function sets all forces that will be acting on Mario when he is spawned into the game. 
    &#34;&#34;&#34;
    self.x_vel = 0
    self.y_vel = 0
    self.max_x_vel = gGameSettings.MARIO_MAX_WALK_SPEED
    self.max_y_vel = gGameSettings.MARIO_MAX_Y_VELOCITY
    self.x_accel = gGameSettings.MARIO_WALK_ACCELERATION
    self.jump_vel = gGameSettings.MARIO_JUMP_VELOCITY
    self.gravity = gGameSettings.WORLD_GRAVITY</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.setup_state_booleans"><code class="name flex">
<span>def <span class="ident">setup_state_booleans</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function sets all boolean values that Mario will have when he is spawned into the game.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setup_state_booleans(self):
    &#34;&#34;&#34;
    This function sets all boolean values that Mario will have when he is spawned into the game.
    &#34;&#34;&#34;
    self.facing_right = True # Mario is facing right at the start of the level
    self.allow_jump = True # He is allowed to jump
    self.dead = False # He is not dead
    self.invincible = False # He is not invincible
    self.big = False # He is small mario, as he has not gotten the magic mushroom yet.
    self.fire = False #He is not fire mario, as he has not gotten the fire flower yet.
    self.allow_fireball = True
    self.in_transition_state = False # He is not transitioning states
    self.hurt_invincible = False # He is not hurt
    self.in_castle = False # He is not in the castle
    self.crouching = False # He is not crouching
    self.losing_invincibility = False # He is not invinicble, so he cannot be in a state in which his invincibility is wearing off</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.stateHandler"><code class="name flex">
<span>def <span class="ident">stateHandler</span></span>(<span>self, keys, fire_group)</span>
</code></dt>
<dd>
<section class="desc"><p>This function handles Mario's states depending on what he is doing at a particular moment.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong></dt>
<dd>Dictionary key for Mario's state</dd>
<dt><strong><code>gGameInfo</code></strong></dt>
<dd>Global game info</dd>
<dt><strong><code>fire_group</code></strong></dt>
<dd>Check for fire mario.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stateHandler(self, keys, fire_group):

    &#34;&#34;&#34;
    This function handles Mario&#39;s states depending on what he is doing at a particular moment.

    Parameters:
        keys: Dictionary key for Mario&#39;s state
        gGameInfo: Global game info
        fire_group: Check for fire mario.
    &#34;&#34;&#34;
    if self.state == gGameSettings.MARIO_STATE_STANDING:
        self.Mario_Standing(keys, fire_group)
    elif self.state == gGameSettings.MARIO_STATE_WALK:
        self.Mario_Walking(keys, fire_group)
    elif self.state == gGameSettings.MARIO_STATE_JUMP:
        self.Mario_Jumping(keys, fire_group)
    elif self.state == gGameSettings.MARIO_STATE_FALL:
        self.Mario_Falling(keys, fire_group)
    elif self.state == gGameSettings.GOOMBA_STATE_DEATH:
        self.Mario_JumpToDeath()
    elif self.state == gGameSettings.MARIO_STATE_SMALL_TO_BIG:
        self.Mario_ChangingToBig()
    elif self.state == gGameSettings.MARIO_STATE_BIG_TO_FIRE:
        self.Mario_ChangeToFire()
    elif self.state == gGameSettings.MARIO_STATE_BIG_TO_SMALL:
        self.Mario_ChangingToSmall()
    elif self.state == gGameSettings.MARIO_STATE_ON_FLAGPOLE:
        self.Mario_PoleSlide()
    elif self.state == gGameSettings.FLAGSTATE_BOTTOM_OF_POLE:
        self.Mario_BottomOfPole()
    elif self.state == gGameSettings.MARIO_STATE_WALKING_TO_CASTLE:
        self.Mario_WalkingToCastle()
    elif self.state == gGameSettings.MARIO_STATE_END_OF_LEVEL:
        self.Mario_FallAtEnd()</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.timerSetup"><code class="name flex">
<span>def <span class="ident">timerSetup</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>This function sets all global timers to 0.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def timerSetup(self):
    &#34;&#34;&#34;
    This function sets all global timers to 0.
    &#34;&#34;&#34;
    self.walking_timer = 0
    self.invincible_animation_timer = 0
    self.invincible_start_timer = 0
    self.fire_transition_timer = 0
    self.death_timer = 0
    self.transition_timer = 0
    self.last_fireball_time = 0
    self.hurt_invisible_timer = 0
    self.hurt_invisible_timer2 = 0
    self.flag_pole_timer = 0</code></pre>
</details>
</dd>
<dt id="data.components.mario.Mario.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self, keys, gGameInfo, fire_group)</span>
</code></dt>
<dd>
<section class="desc"><p>This function updates Mario's animation every frame</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong></dt>
<dd>Dictionary key for Mario's state</dd>
<dt><strong><code>gGameInfo</code></strong></dt>
<dd>Global game info</dd>
<dt><strong><code>fire_group</code></strong></dt>
<dd>Check for fire mario.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self, keys, gGameInfo, fire_group):
    &#34;&#34;&#34;
    This function updates Mario&#39;s animation every frame

    Parameters:
        keys: Dictionary key for Mario&#39;s state
        gGameInfo: Global game info
        fire_group: Check for fire mario.
        
    &#34;&#34;&#34;
    self.current_time = gGameInfo[gGameSettings.GLOBAL_TIME]
    self.stateHandler(keys, fire_group)
    self.Mario_StateCheckSpecial()
    self.Mario_SetAnimationImage()</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="data.components" href="index.html">data.components</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="data.components.mario.Mario" href="#data.components.mario.Mario">Mario</a></code></h4>
<ul class="">
<li><code><a title="data.components.mario.Mario.Gfx_LoadSpriteSheet" href="#data.components.mario.Mario.Gfx_LoadSpriteSheet">Gfx_LoadSpriteSheet</a></code></li>
<li><code><a title="data.components.mario.Mario.InitializeDeathJump" href="#data.components.mario.Mario.InitializeDeathJump">InitializeDeathJump</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_AdjustCollision" href="#data.components.mario.Mario.Mario_AdjustCollision">Mario_AdjustCollision</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_BottomOfPole" href="#data.components.mario.Mario.Mario_BottomOfPole">Mario_BottomOfPole</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_BottomOfPoleState" href="#data.components.mario.Mario.Mario_BottomOfPoleState">Mario_BottomOfPoleState</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_ChangeFrameList" href="#data.components.mario.Mario.Mario_ChangeFrameList">Mario_ChangeFrameList</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_ChangeToBig" href="#data.components.mario.Mario.Mario_ChangeToBig">Mario_ChangeToBig</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_ChangeToFire" href="#data.components.mario.Mario.Mario_ChangeToFire">Mario_ChangeToFire</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_ChangeToSmall" href="#data.components.mario.Mario.Mario_ChangeToSmall">Mario_ChangeToSmall</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_ChangingToBig" href="#data.components.mario.Mario.Mario_ChangingToBig">Mario_ChangingToBig</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_ChangingToSmall" href="#data.components.mario.Mario.Mario_ChangingToSmall">Mario_ChangingToSmall</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_CheckIfFire" href="#data.components.mario.Mario.Mario_CheckIfFire">Mario_CheckIfFire</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_CheckIfInvicible" href="#data.components.mario.Mario.Mario_CheckIfInvicible">Mario_CheckIfInvicible</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_CrouchCheck" href="#data.components.mario.Mario.Mario_CrouchCheck">Mario_CrouchCheck</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_ExitCrouch" href="#data.components.mario.Mario.Mario_ExitCrouch">Mario_ExitCrouch</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_FallAtEnd" href="#data.components.mario.Mario.Mario_FallAtEnd">Mario_FallAtEnd</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_Falling" href="#data.components.mario.Mario.Mario_Falling">Mario_Falling</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_FireballCheck" href="#data.components.mario.Mario.Mario_FireballCheck">Mario_FireballCheck</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_FireballCount" href="#data.components.mario.Mario.Mario_FireballCount">Mario_FireballCount</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_InvincibilityHurtCheck" href="#data.components.mario.Mario.Mario_InvincibilityHurtCheck">Mario_InvincibilityHurtCheck</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_JumpCheck" href="#data.components.mario.Mario.Mario_JumpCheck">Mario_JumpCheck</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_JumpToDeath" href="#data.components.mario.Mario.Mario_JumpToDeath">Mario_JumpToDeath</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_Jumping" href="#data.components.mario.Mario.Mario_Jumping">Mario_Jumping</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_Math_CalcAnimationSpeed" href="#data.components.mario.Mario.Mario_Math_CalcAnimationSpeed">Mario_Math_CalcAnimationSpeed</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_PoleSlide" href="#data.components.mario.Mario.Mario_PoleSlide">Mario_PoleSlide</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_SetAnimationImage" href="#data.components.mario.Mario.Mario_SetAnimationImage">Mario_SetAnimationImage</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_SetBigTransitionAnimation" href="#data.components.mario.Mario.Mario_SetBigTransitionAnimation">Mario_SetBigTransitionAnimation</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_SetInvincibility" href="#data.components.mario.Mario.Mario_SetInvincibility">Mario_SetInvincibility</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_SetMiddleTransitionAnimation" href="#data.components.mario.Mario.Mario_SetMiddleTransitionAnimation">Mario_SetMiddleTransitionAnimation</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_SetSmallTransitionAnimation" href="#data.components.mario.Mario.Mario_SetSmallTransitionAnimation">Mario_SetSmallTransitionAnimation</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_ShootFireball" href="#data.components.mario.Mario.Mario_ShootFireball">Mario_ShootFireball</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_Standing" href="#data.components.mario.Mario.Mario_Standing">Mario_Standing</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_StateCheckSpecial" href="#data.components.mario.Mario.Mario_StateCheckSpecial">Mario_StateCheckSpecial</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_Walking" href="#data.components.mario.Mario.Mario_Walking">Mario_Walking</a></code></li>
<li><code><a title="data.components.mario.Mario.Mario_WalkingToCastle" href="#data.components.mario.Mario.Mario_WalkingToCastle">Mario_WalkingToCastle</a></code></li>
<li><code><a title="data.components.mario.Mario.Math_Time_Diff" href="#data.components.mario.Mario.Math_Time_Diff">Math_Time_Diff</a></code></li>
<li><code><a title="data.components.mario.Mario.counterSetup" href="#data.components.mario.Mario.counterSetup">counterSetup</a></code></li>
<li><code><a title="data.components.mario.Mario.getImage" href="#data.components.mario.Mario.getImage">getImage</a></code></li>
<li><code><a title="data.components.mario.Mario.setup_forces" href="#data.components.mario.Mario.setup_forces">setup_forces</a></code></li>
<li><code><a title="data.components.mario.Mario.setup_state_booleans" href="#data.components.mario.Mario.setup_state_booleans">setup_state_booleans</a></code></li>
<li><code><a title="data.components.mario.Mario.stateHandler" href="#data.components.mario.Mario.stateHandler">stateHandler</a></code></li>
<li><code><a title="data.components.mario.Mario.timerSetup" href="#data.components.mario.Mario.timerSetup">timerSetup</a></code></li>
<li><code><a title="data.components.mario.Mario.update" href="#data.components.mario.Mario.update">update</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.5</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>